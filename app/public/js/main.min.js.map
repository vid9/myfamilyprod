{"version":3,"sources":["../../public/scripts/firebaseConfig.js","../../public/scripts/getmdl-select.min.js","../../public/scripts/jquery.simplePagination.js","../../public/scripts/monthly.js","../../public/scripts/dialog-polyfill.js","../../public/scripts/querydb.js","../../public/scripts/datepicker.js","../../public/scripts/dialog.js","../../public/scripts/hotjar.js"],"names":[],"mappings":"AAAA;ACAA;AACA;ACDA;ACAA;ACAA;ACAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3rEA;ACAA","file":"main.min.js","sourcesContent":["\"use strict\";var config={apiKey:\"AIzaSyB5gqr67VPZ1T1rgnRBYgyHZzgLhQTLMvY\",authDomain:\"myfamily-e6565.firebaseapp.com\",databaseURL:\"https://myfamily-e6565.firebaseio.com\",projectId:\"myfamily-e6565\",storageBucket:\"\",messagingSenderId:\"868378198566\"};firebase.initializeApp(config);","\"use strict\";!function(){function e(){getmdlSelect.init(\".getmdl-select\")}window.addEventListener?window.addEventListener(\"load\",e,!1):window.attachEvent&&window.attachEvent(\"onload\",e)}();var getmdlSelect={_defaultValue:{width:300},_addEventListeners:function(e){var t=e.querySelector(\"input\"),n=e.querySelector('input[type=\"hidden\"]'),l=e.querySelectorAll(\"li\"),a=e.querySelector(\".mdl-js-menu\"),o=e.querySelector(\".mdl-icon-toggle__label\"),i=\"\",c=\"\",s=\"\",u=!1,d=function(o){var i=o.textContent.trim();if(t.value=i,l.forEach(function(e){e.classList.remove(\"selected\")}),o.classList.add(\"selected\"),e.MaterialTextfield.change(i),setTimeout(function(){e.MaterialTextfield.updateClasses_()},250),n.value=o.dataset.val||\"\",c=t.value,s=n.value,\"createEvent\"in document){var u=document.createEvent(\"HTMLEvents\");u.initEvent(\"change\",!1,!0),a.MaterialMenu.hide(),t.dispatchEvent(u)}else t.fireEvent(\"onchange\")},r=function(){u=!1,t.value=c,n.value=s,e.querySelector(\".mdl-menu__container\").classList.contains(\"is-visible\")||e.classList.remove(\"is-focused\");var l=document.querySelectorAll(\".getmdl-select .mdl-js-menu\");[].forEach.call(l,function(e){e.MaterialMenu.hide()});var o=new Event(\"closeSelect\");a.dispatchEvent(o)};document.body.addEventListener(\"click\",r,!1),e.onkeydown=function(l){9==l.keyCode&&(t.value=c,n.value=s,a.MaterialMenu.hide(),e.classList.remove(\"is-focused\"))},t.onfocus=function(e){a.MaterialMenu.show(),a.focus(),u=!0},t.onblur=function(e){e.stopPropagation()},t.onclick=function(t){t.stopPropagation(),a.classList.contains(\"is-visible\")?(a.MaterialMenu.hide(),u=!1):(a.MaterialMenu.show(),r(),e.classList.add(\"is-focused\"),u=!0)},t.onkeydown=function(l){27==l.keyCode&&(t.value=c,n.value=s,a.MaterialMenu.hide(),e.MaterialTextfield.onBlur_(),\"\"!==i&&(e.querySelector(\".mdl-textfield__label\").textContent=i,i=\"\"))},a.addEventListener(\"closeSelect\",function(l){t.value=c,n.value=s,e.classList.remove(\"is-focused\"),\"\"!==i&&(e.querySelector(\".mdl-textfield__label\").textContent=i,i=\"\")}),a.onkeydown=function(l){27==l.keyCode&&(t.value=c,n.value=s,e.classList.remove(\"is-focused\"),\"\"!==i&&(e.querySelector(\".mdl-textfield__label\").textContent=i,i=\"\"))},o&&(o.onclick=function(l){l.stopPropagation(),u?(a.MaterialMenu.hide(),u=!1,e.classList.remove(\"is-focused\"),e.MaterialTextfield.onBlur_(),t.value=c,n.value=s):(r(),e.MaterialTextfield.onFocus_(),t.focus(),a.MaterialMenu.show(),u=!0)}),[].forEach.call(l,function(n){n.onfocus=function(){e.classList.add(\"is-focused\");var l=n.textContent.trim();t.value=l,e.classList.contains(\"mdl-textfield--floating-label\")||\"\"!=i||(i=e.querySelector(\".mdl-textfield__label\").textContent.trim(),e.querySelector(\".mdl-textfield__label\").textContent=\"\")},n.onclick=function(){d(n)},n.dataset.selected&&d(n)})},init:function(e){var t=document.querySelectorAll(e);[].forEach.call(t,function(e){getmdlSelect._addEventListeners(e),componentHandler.upgradeElement(e),componentHandler.upgradeElement(e.querySelector(\"ul\"))})}};\r\n//# sourceMappingURL=getmdl-select.min.js.map","\"use strict\";var _typeof8=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},_typeof7=\"function\"==typeof Symbol&&\"symbol\"==_typeof8(Symbol.iterator)?function(e){return void 0===e?\"undefined\":_typeof8(e)}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":void 0===e?\"undefined\":_typeof8(e)},_typeof6=\"function\"==typeof Symbol&&\"symbol\"===_typeof7(Symbol.iterator)?function(e){return void 0===e?\"undefined\":_typeof7(e)}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":void 0===e?\"undefined\":_typeof7(e)},_typeof5=\"function\"==typeof Symbol&&\"symbol\"===_typeof6(Symbol.iterator)?function(e){return void 0===e?\"undefined\":_typeof6(e)}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":void 0===e?\"undefined\":_typeof6(e)},_typeof4=\"function\"==typeof Symbol&&\"symbol\"===_typeof5(Symbol.iterator)?function(e){return void 0===e?\"undefined\":_typeof5(e)}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":void 0===e?\"undefined\":_typeof5(e)},_typeof3=\"function\"==typeof Symbol&&\"symbol\"===_typeof4(Symbol.iterator)?function(e){return void 0===e?\"undefined\":_typeof4(e)}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":void 0===e?\"undefined\":_typeof4(e)},_typeof2=\"function\"==typeof Symbol&&\"symbol\"===_typeof3(Symbol.iterator)?function(e){return void 0===e?\"undefined\":_typeof3(e)}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":void 0===e?\"undefined\":_typeof3(e)},_typeof=\"function\"==typeof Symbol&&\"symbol\"===_typeof2(Symbol.iterator)?function(e){return void 0===e?\"undefined\":_typeof2(e)}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":void 0===e?\"undefined\":_typeof2(e)};!function(o){var p={init:function(e){var t=o.extend({items:1,itemsOnPage:1,pages:0,displayedPages:5,edges:2,currentPage:0,useAnchors:!0,hrefTextPrefix:\"#page-\",hrefTextSuffix:\"\",prevText:\"Prev\",nextText:\"Next\",ellipseText:\"&hellip;\",ellipsePageSet:!0,cssStyle:\"light-theme\",listStyle:\"\",labelMap:[],selectOnClick:!0,nextAtFront:!1,invertPageOrder:!1,useStartEdge:!0,useEndEdge:!0,onPageClick:function(e,t){},onInit:function(){}},e||{}),a=this;return t.pages=t.pages?t.pages:Math.ceil(t.items/t.itemsOnPage)?Math.ceil(t.items/t.itemsOnPage):1,t.currentPage?t.currentPage=t.currentPage-1:t.currentPage=t.invertPageOrder?t.pages-1:0,t.halfDisplayed=t.displayedPages/2,this.each(function(){a.addClass(t.cssStyle+\" simple-pagination\").data(\"pagination\",t),p._draw.call(a)}),t.onInit(),this},selectPage:function(e){return p._selectPage.call(this,e-1),this},prevPage:function(){var e=this.data(\"pagination\");return e.invertPageOrder?e.currentPage<e.pages-1&&p._selectPage.call(this,e.currentPage+1):0<e.currentPage&&p._selectPage.call(this,e.currentPage-1),this},nextPage:function(){var e=this.data(\"pagination\");return e.invertPageOrder?0<e.currentPage&&p._selectPage.call(this,e.currentPage-1):e.currentPage<e.pages-1&&p._selectPage.call(this,e.currentPage+1),this},getPagesCount:function(){return this.data(\"pagination\").pages},setPagesCount:function(e){this.data(\"pagination\").pages=e},getCurrentPage:function(){return this.data(\"pagination\").currentPage+1},destroy:function(){return this.empty(),this},drawPage:function(e){var t=this.data(\"pagination\");return t.currentPage=e-1,this.data(\"pagination\",t),p._draw.call(this),this},redraw:function(){return p._draw.call(this),this},disable:function(){var e=this.data(\"pagination\");return e.disabled=!0,this.data(\"pagination\",e),p._draw.call(this),this},enable:function(){var e=this.data(\"pagination\");return e.disabled=!1,this.data(\"pagination\",e),p._draw.call(this),this},updateItems:function(e){var t=this.data(\"pagination\");t.items=e,t.pages=p._getPages(t),this.data(\"pagination\",t),p._draw.call(this)},updateItemsOnPage:function(e){var t=this.data(\"pagination\");return t.itemsOnPage=e,t.pages=p._getPages(t),this.data(\"pagination\",t),p._selectPage.call(this,0),this},getItemsOnPage:function(){return this.data(\"pagination\").itemsOnPage},_draw:function(){var e,t=this.data(\"pagination\"),a=p._getInterval(t);p.destroy.call(this);var n=\"UL\"===(\"function\"==typeof this.prop?this.prop(\"tagName\"):this.attr(\"tagName\"))?this:o(\"<ul\"+(t.listStyle?' class=\"'+t.listStyle+'\"':\"\")+\"></ul>\").appendTo(this);if(t.prevText&&p._appendItem.call(this,t.invertPageOrder?t.currentPage+1:t.currentPage-1,{text:t.prevText,classes:\"prev\"}),t.nextText&&t.nextAtFront&&p._appendItem.call(this,t.invertPageOrder?t.currentPage-1:t.currentPage+1,{text:t.nextText,classes:\"next\"}),t.invertPageOrder){if(a.end<t.pages&&0<t.edges){if(t.useStartEdge){var i=Math.max(t.pages-t.edges,a.end);for(e=t.pages-1;i<=e;e--)p._appendItem.call(this,e)}t.pages-t.edges>a.end&&t.pages-t.edges-a.end!=1?n.append('<li class=\"disabled\"><span class=\"ellipse\">'+t.ellipseText+\"</span></li>\"):t.pages-t.edges-a.end==1&&p._appendItem.call(this,a.end)}}else if(0<a.start&&0<t.edges){if(t.useStartEdge){var s=Math.min(t.edges,a.start);for(e=0;e<s;e++)p._appendItem.call(this,e)}t.edges<a.start&&a.start-t.edges!=1?n.append('<li class=\"disabled\"><span class=\"ellipse\">'+t.ellipseText+\"</span></li>\"):a.start-t.edges==1&&p._appendItem.call(this,t.edges)}if(t.invertPageOrder)for(e=a.end-1;e>=a.start;e--)p._appendItem.call(this,e);else for(e=a.start;e<a.end;e++)p._appendItem.call(this,e);if(t.invertPageOrder){if(0<a.start&&0<t.edges&&(t.edges<a.start&&a.start-t.edges!=1?n.append('<li class=\"disabled\"><span class=\"ellipse\">'+t.ellipseText+\"</span></li>\"):a.start-t.edges==1&&p._appendItem.call(this,t.edges),t.useEndEdge))for(e=(s=Math.min(t.edges,a.start))-1;0<=e;e--)p._appendItem.call(this,e)}else if(a.end<t.pages&&0<t.edges&&(t.pages-t.edges>a.end&&t.pages-t.edges-a.end!=1?n.append('<li class=\"disabled\"><span class=\"ellipse\">'+t.ellipseText+\"</span></li>\"):t.pages-t.edges-a.end==1&&p._appendItem.call(this,a.end),t.useEndEdge))for(e=i=Math.max(t.pages-t.edges,a.end);e<t.pages;e++)p._appendItem.call(this,e);t.nextText&&!t.nextAtFront&&p._appendItem.call(this,t.invertPageOrder?t.currentPage-1:t.currentPage+1,{text:t.nextText,classes:\"next\"}),t.ellipsePageSet&&!t.disabled&&p._ellipseClick.call(this,n)},_getPages:function(e){return Math.ceil(e.items/e.itemsOnPage)||1},_getInterval:function(e){return{start:Math.ceil(e.currentPage>e.halfDisplayed?Math.max(Math.min(e.currentPage-e.halfDisplayed,e.pages-e.displayedPages),0):0),end:Math.ceil(e.currentPage>e.halfDisplayed?Math.min(e.currentPage+e.halfDisplayed,e.pages):Math.min(e.displayedPages,e.pages))}},_appendItem:function(t,e){var a,n,i=this,s=i.data(\"pagination\"),r=o(\"<li></li>\"),l=i.find(\"ul\");a={text:(t=t<0?0:t<s.pages?t:s.pages-1)+1,classes:\"\"},s.labelMap.length&&s.labelMap[t]&&(a.text=s.labelMap[t]),a=o.extend(a,e||{}),t==s.currentPage||s.disabled?(s.disabled||\"prev\"===a.classes||\"next\"===a.classes?r.addClass(\"disabled\"):r.addClass(\"active\"),n=o('<span class=\"current\">'+a.text+\"</span>\")):(n=s.useAnchors?o('<a href=\"'+s.hrefTextPrefix+(t+1)+s.hrefTextSuffix+'\" class=\"page-link\">'+a.text+\"</a>\"):o(\"<span >\"+a.text+\"</span>\")).click(function(e){return p._selectPage.call(i,t,e)}),a.classes&&n.addClass(a.classes),r.append(n),l.length?l.append(r):i.append(r)},_selectPage:function(e,t){var a=this.data(\"pagination\");return a.currentPage=e,a.selectOnClick&&p._draw.call(this),a.onPageClick(e+1,t)},_ellipseClick:function(e){var n=this,i=this.data(\"pagination\"),s=e.find(\".ellipse\");s.addClass(\"clickable\").parent().removeClass(\"disabled\"),s.click(function(e){if(!i.disable){var t=o(this),a=(parseInt(t.parent().prev().text(),10)||0)+1;t.html('<input type=\"number\" min=\"1\" max=\"'+i.pages+'\" step=\"1\" value=\"'+a+'\">').find(\"input\").focus().click(function(e){e.stopPropagation()}).keyup(function(e){var t=o(this).val();13===e.which&&\"\"!==t?0<t&&t<=i.pages&&p._selectPage.call(n,t-1):27===e.which&&s.empty().html(i.ellipseText)}).bind(\"blur\",function(e){var t=o(this).val();return\"\"!==t&&p._selectPage.call(n,t-1),s.empty().html(i.ellipseText),!1})}return!1})}};o.fn.pagination=function(e){return p[e]&&\"_\"!=e.charAt(0)?p[e].apply(this,Array.prototype.slice.call(arguments,1)):\"object\"!==(void 0===e?\"undefined\":_typeof(e))&&e?void o.error(\"Method \"+e+\" does not exist on jQuery.pagination\"):p.init.apply(this,arguments)}}(jQuery);","\"use strict\";function prikaziPodatke(t){var e=\"/koledar/\"+t;24==t.length&&$.ajax({type:\"GET\",url:e,success:function(t){console.log(t),t.includes(\"<!doctype html>\")?window.location.reload():($(\"#NalogaPopUp\").html(t).css(\"display\",\"inline-flex\"),$(\"body\").click(function(t){\"NalogaPopUp\"==t.target.id||$(t.target).parents(\"#NalogaPopUp\").length||($(\"#NalogaPopUp\").hide(),$(\"#NalogaPopUp\").unbind())}))},error:function(t,e,a){alert(t.status),alert(t.responseText),alert(a)}}),event.preventDefault()}!function(z){z.fn.extend({monthly:function(t){var F=z.extend({dataType:\"json\",disablePast:!1,eventList:!0,events:\"\",jsonUrl:\"\",linkCalendarToEventUrl:!1,maxWidth:!1,mode:\"event\",setWidth:!1,showTrigger:\"\",startHidden:!1,stylePast:!1,target:\"\",useIsoDateFormat:!1,weekStart:0,xmlUrl:\"\"},t),p=z(this).attr(\"id\"),W=\"#\"+p,e=new Date,v=e.getMonth()+1,u=e.getFullYear(),f=e.getDate(),d=(F.locale||function(){if(navigator.languages&&navigator.languages.length)return navigator.languages[0];return navigator.language||navigator.browserLanguage}()).toLowerCase(),g=(F.monthNameFormat,F.weekdayNameFormat,F.monthNames||[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"Maj\",\"Jun\",\"Jul\",\"Avg\",\"Sep\",\"Okt\",\"Nov\",\"Dec\"]),k=F.dayNames||[\"Ned\",\"Pon\",\"Tor\",\"Sre\",\"Čet\",\"Pet\",\"Sob\"],b='<div class=\"m-d monthly-day-blank\"><div class=\"monthly-day-number\"></div></div>',w=\"Mon\"===F.weekStart||1===F.weekStart||\"1\"===F.weekStart,a=d.substring(0,2).toLowerCase();function A(t,e){return 2===t?3&e||!(e%25)&&15&e?28:29:30+(t+(t>>3)&1)}function n(t,e){z(W).data(\"setMonth\",t).data(\"setYear\",e);var a=0,n=A(t,e),o=t-1,l=new Date(e,o,1,0,0,0,0).getDay(),i=t===v&&e===u;z(W+\" .monthly-day, \"+W+\" .monthly-day-blank\").remove(),z(W+\" .monthly-event-list, \"+W+\" .monthly-day-wrap\").empty();for(var r=1;r<=n;r++){var s=F.stylePast&&(e<u||e===u&&(t<v||t===v&&r<f)),d='<div class=\"monthly-day-number\">'+r+'</div><div class=\"monthly-indicator-wrap\" ></div>';if(\"event\"===F.mode){var c=new Date(e,o,r,0,0,0,0);z(W+\" .monthly-day-wrap\").append(\"<div\"+$(\"class\",\"m-d monthly-day monthly-day-event\"+(s?\" monthly-past-day\":\"\")+\" dt\"+c.toISOString().slice(0,10))+$(\"data-number\",r)+\">\"+d+\"</div>\"),z(W+\" .monthly-event-list\").append(\"<div\"+$(\"class\",\"monthly-list-item\")+$(\"id\",p+\"day\"+r)+$(\"data-number\",r)+'><div class=\"monthly-event-list-date\">'+k[c.getDay()]+\"<br>\"+r+\"</div></div>\")}else z(W+\" .monthly-day-wrap\").append(\"<a\"+$(\"href\",\"#\")+$(\"class\",\"m-d monthly-day monthly-day-pick\"+(s?\" monthly-past-day\":\"\"))+$(\"data-number\",r)+\">\"+d+\"</a>\")}i&&z(W+' *[data-number=\"'+f+'\"]').addClass(\"monthly-today\"),z(W+\" .monthly-header-title\").html('<a href=\"#\" class=\"monthly-header-title-date\" onclick=\"return false\">'+g[t-1]+\" \"+e+\"</a>\"+(i&&z(W+\" .monthly-event-list\").hide()?\"\":'<a href=\"#\" class=\"monthly-reset\"></a>')),w?0===l?D(6):1!==l&&D(l-1):7!==l&&D(l);var m=z(W+\" .monthly-day\").length+z(W+\" .monthly-day-blank\").length,h=7*Math.ceil(m/7)-m;if(m%7!=0)for(a=0;a<h;a++)z(W+\" .monthly-day-wrap\").append(b);\"event\"===F.mode&&function(e,a){if(F.events)P(F.events,e,a);else{var t=\"xml\"===F.dataType?F.xmlUrl:F.jsonUrl;if(t){var n=String(t).replace(\"{month}\",e).replace(\"{year}\",a);z.get(n,{now:z.now()},function(t){P(t,e,a)},F.dataType).fail(function(){console.error(\"Monthly.js failed to import \"+t+\". Please check for the correct path and \"+F.dataType+\" syntax.\")})}}}(t,e);var y=z(W+\" .m-d\");for(a=0;a<y.length;a+=7)y.slice(a,a+7).wrapAll('<div class=\"monthly-week\"></div>')}function o(t,e,a){var n=L(t,\"startdate\"),o=L(t,\"enddate\"),l=n.split(\"-\"),i=parseInt(l[0],10),r=parseInt(l[1],10),s=parseInt(l[2],10),d=s,c=s,m=s,h=r===e&&i===a,y=h;if(o){var p=o.split(\"-\"),v=parseInt(p[0],10),u=parseInt(p[1],10),f=parseInt(p[2],10),g=u===e&&v===a;(h||g||(i<a||r<e&&i===a)&&(a<v||e<u&&v===a))&&(y=!0,d=h?s:1,c=g?f:A(e,a),m=h?d:1)}if(y){var k=L(t,\"starttime\"),b=\"\",w=L(t,\"url\"),P=L(t,\"name\"),D=L(t,\"class\"),T=L(t,\"color\"),x=L(t,\"id\"),N=D?\" \"+D:\"\",S=\"<div\",U=\"</span></div>\";if(k){var I=L(t,\"endtime\");b='<div><div class=\"monthly-list-time-start\">'+Y(k)+\"</div>\"+(I?'<div class=\"monthly-list-time-end\">'+Y(I)+\"</div>\":\"\")+\"</div>\"}F.linkCalendarToEventUrl&&w&&(S=\"<a\"+$(\"href\",w),U=\"</span></a>\");for(var M,C=S+$(\"data-eventid\",x)+$(\"title\",P)+(T?$(\"style\",\"background:\"+T+\";color:\"+T):\"\"),j=\"<a\"+$(\"href\",w)+$(\"class\",\"listed-event\"+N)+$(\"data-eventid\",x)+(T?$(\"style\",\"background:\"+T):\"\")+$(\"title\",P)+\">\"+P+\" \"+b+\"</a>\",E=d;E<=c;E++)M=E===m,z(W+' *[data-number=\"'+E+'\"] .monthly-indicator-wrap').append(C+$(\"class\",\"monthly-event-indicator\"+N+(M?\"\":\" monthly-event-continued\"))+\"><span>\"+(M?P:\"\")+U),z(W+' .monthly-list-item[data-number=\"'+E+'\"]').addClass(\"item-has-event\").append(j)}}function P(t,a,n){\"xml\"===F.dataType?z(t).find(\"event\").each(function(t,e){o(e,a,n)}):\"json\"===F.dataType&&z.each(t.monthly,function(t,e){o(e,a,n)})}function $(t,e){for(var a=String(e),n=\"\",o=0;o<a.length;o++)switch(a[o]){case\"'\":n+=\"&#39;\";break;case'\"':n+=\"&quot;\";break;case\"<\":n+=\"&lt;\";break;case\">\":n+=\"&gt;\";break;default:n+=a[o]}return\" \"+t+'=\"'+n+'\"'}function D(t){var e=z(W+\" .monthly-day-wrap\"),a=0;for(a=0;a<t;a++)e.prepend(b)}function L(t,e){return\"xml\"===F.dataType?z(t).find(e).text():t[e]}function Y(t){var e=t.split(\":\"),a=parseInt(e[0],10),n=\"AM\";return 12<a?(a-=12,n=\"PM\"):12==a?n=\"PM\":0===a&&(a=12),a+\":\"+String(e[1])+\" \"+n}function c(){z(W+\" .monthly-event-list\").is(\":visible\")&&(z(W+\" .monthly-cal\").remove(),z(W+\" .monthly-header-title\").prepend('<a href=\"#\" class=\"monthly-cal\"></a>'))}!1!==F.maxWidth&&z(W).css(\"maxWidth\",F.maxWidth),!1!==F.setWidth&&z(W).css(\"width\",F.setWidth),F.startHidden&&(z(W).addClass(\"monthly-pop\").css({display:\"none\",position:\"absolute\"}),z(document).on(\"focus\",String(F.showTrigger),function(t){z(W).show(),t.preventDefault()}),z(document).on(\"click\",String(F.showTrigger)+\", .monthly-pop\",function(t){t.stopPropagation(),t.preventDefault()}),z(document).on(\"click\",function(){z(W).hide()})),function(t){var e=t?1:0,a=\"\",n=0;for(n=0;n<6;n++)a+=\"<div>\"+k[n+e]+\"</div>\";a+=\"<div>\"+k[t?0:6]+\"</div>\",z(W).append('<div class=\"monthly-day-title-wrap\">'+a+'</div><div class=\"monthly-day-wrap\"></div>')}(w),z(W).addClass(\"monthly-locale-\"+a+\" monthly-locale-\"+d),z(W).prepend('<div class=\"monthly-header\"><div class=\"monthly-header-title\"><a href=\"#\" class=\"monthly-header-title-date\" onclick=\"return false\"></a></div><a href=\"#\" class=\"monthly-prev\"></a><a href=\"#\" class=\"monthly-next\"></a></div>').append('<div class=\"monthly-event-list\"></div>'),n(v,u),z(document.body).on(\"click\",W+\" .monthly-next\",function(t){var e,a;e=z(W).data(\"setMonth\"),a=z(W).data(\"setYear\"),n(12===e?1:e+1,12===e?a+1:a),c(),t.preventDefault()}),z(document.body).on(\"click\",W+\" .monthly-prev\",function(t){var e,a;e=z(W).data(\"setMonth\"),a=z(W).data(\"setYear\"),n(1===e?12:e-1,1===e?a-1:a),c(),t.preventDefault()}),z(document.body).on(\"click\",W+\" .monthly-reset\",function(t){z(this).remove(),n(v,u),c(),t.preventDefault(),t.stopPropagation()}),z(document.body).on(\"click\",W+\" .monthly-cal\",function(t){z(this).remove(),z(W+\" .monthly-event-list\").css(\"transform\",\"scale(0)\"),setTimeout(function(){z(W+\" .monthly-event-list\").hide()},250),t.preventDefault(),z(\"#NalogaPopUp\").css(\"display\",\"none\")}),z(document.body).on(\"click touchstart\",W+\" .monthly-day\",function(t){var e,a,n,o=z(this).data(\"number\");if(\"event\"===F.mode&&F.eventList){var l=z(W+\" .monthly-event-list\"),i=document.getElementById(p+\"day\"+o).offsetTop;l.show(),l.css(\"transform\"),l.css(\"transform\",\"scale(1)\"),z(W+\" .monthly-event-list .monthly-list-item\").hide(),z(W+' .monthly-list-item[data-number=\"'+o+'\"]').show(),l.scrollTop(i),c(),F.linkCalendarToEventUrl||t.preventDefault(),\"SPAN\"==t.target.nodeName?prikaziPodatke(t.target.parentElement.getAttribute(\"data-eventid\")):prikaziPodatke(t.target.attributes[0].value)}else if(\"picker\"===F.mode){var r=z(W).data(\"setMonth\"),s=z(W).data(\"setYear\");z(this).hasClass(\"monthly-past-day\")&&F.disablePast?t.preventDefault():(z(String(F.target)).val((e=s,a=r,n=o,F.useIsoDateFormat?new Date(e,a-1,n,0,0,0).toISOString().substring(0,10):\"undefined\"==typeof Intl?a+\"/\"+n+\"/\"+e:new Intl.DateTimeFormat(d).format(new Date(e,a-1,n,0,0,0)))),0!=z(\"#targetZacetek\").val().length&&z(\"#dialogZacetek\").addClass(\"is-dirty\"),0!=z(\"#targetKonec\").val().length&&z(\"#dialogKonec\").addClass(\"is-dirty\"),F.startHidden&&z(W).hide()),t.preventDefault()}}),z(document.body).on(\"click\",W+\" .listed-event\",function(t){var e=z(this).attr(\"href\");e&&z.ajax({type:\"GET\",url:e,success:function(t){t.includes(\"<!doctype html>\")?window.location.reload():(z(\"#NalogaPopUp\").html(t).css(\"display\",\"inline-flex\"),z(\"body\").click(function(t){\"NalogaPopUp\"==t.target.id||z(t.target).parents(\"#NalogaPopUp\").length||(z(\"#NalogaPopUp\").hide(),z(\"#NalogaPopUp\").unbind())}))},error:function(t,e,a){console.log(t.status),console.log(t.responseText),console.log(a)}}),t.preventDefault()})}})}(jQuery);","\"use strict\";var _typeof=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};!function(){var i=window.CustomEvent;function n(e){for(;e;){if(\"dialog\"===e.localName)return e;e=e.parentElement}return null}function o(e){e&&e.blur&&e!==document.body&&e.blur()}function d(e,t){for(var o=0;o<e.length;++o)if(e[o]===t)return!0;return!1}function a(e){return!(!e||!e.hasAttribute(\"method\"))&&\"dialog\"===e.getAttribute(\"method\").toLowerCase()}function t(o){if(this.dialog_=o,this.replacedStyleTop_=!1,this.openAsModal_=!1,o.hasAttribute(\"role\")||o.setAttribute(\"role\",\"dialog\"),o.show=this.show.bind(this),o.showModal=this.showModal.bind(this),o.close=this.close.bind(this),\"returnValue\"in o||(o.returnValue=\"\"),\"MutationObserver\"in window){new MutationObserver(this.maybeHideModal.bind(this)).observe(o,{attributes:!0,attributeFilter:[\"open\"]})}else{var i,n=!1,a=function(){n?this.downgradeModal():this.maybeHideModal(),n=!1}.bind(this),t=function(e){if(e.target===o){var t=\"DOMNodeRemoved\";n|=e.type.substr(0,t.length)===t,window.clearTimeout(i),i=window.setTimeout(a,0)}};[\"DOMAttrModified\",\"DOMNodeRemoved\",\"DOMNodeRemovedFromDocument\"].forEach(function(e){o.addEventListener(e,t)})}Object.defineProperty(o,\"open\",{set:this.setOpen.bind(this),get:o.hasAttribute.bind(o,\"open\")}),this.backdrop_=document.createElement(\"div\"),this.backdrop_.className=\"backdrop\",this.backdrop_.addEventListener(\"click\",this.backdropClick_.bind(this))}i&&\"object\"!==(void 0===i?\"undefined\":_typeof(i))||((i=function(e,t){t=t||{};var o=document.createEvent(\"CustomEvent\");return o.initCustomEvent(e,!!t.bubbles,!!t.cancelable,t.detail||null),o}).prototype=window.Event.prototype),t.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute(\"open\")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex=\"\",this.replacedStyleTop_&&(this.dialog_.style.top=\"\",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),r.dm.removeDialog(this))},setOpen:function(e){e?this.dialog_.hasAttribute(\"open\")||this.dialog_.setAttribute(\"open\",\"\"):(this.dialog_.removeAttribute(\"open\"),this.maybeHideModal())},backdropClick_:function(e){if(this.dialog_.hasAttribute(\"tabindex\"))this.dialog_.focus();else{var t=document.createElement(\"div\");this.dialog_.insertBefore(t,this.dialog_.firstChild),t.tabIndex=-1,t.focus(),this.dialog_.removeChild(t)}var o=document.createEvent(\"MouseEvents\");o.initMouseEvent(e.type,e.bubbles,e.cancelable,window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),this.dialog_.dispatchEvent(o),e.stopPropagation()},focus_:function(){var e=this.dialog_.querySelector(\"[autofocus]:not([disabled])\");if(!e&&0<=this.dialog_.tabIndex&&(e=this.dialog_),!e){var t=[\"button\",\"input\",\"keygen\",\"select\",\"textarea\"].map(function(e){return e+\":not([disabled])\"});t.push('[tabindex]:not([disabled]):not([tabindex=\"\"])'),e=this.dialog_.querySelector(t.join(\", \"))}o(document.activeElement),e&&e.focus()},updateZIndex:function(e,t){if(e<t)throw new Error(\"dialogZ should never be < backdropZ\");this.dialog_.style.zIndex=e,this.backdrop_.style.zIndex=t},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute(\"open\"))throw new Error(\"Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.\");if(!document.body.contains(this.dialog_))throw new Error(\"Failed to execute 'showModal' on dialog: The element is not in a Document.\");if(!r.dm.pushDialog(this))throw new Error(\"Failed to execute 'showModal' on dialog: There are too many open modal dialogs.\");(function(e){for(;e&&e!==document.body;){var o=window.getComputedStyle(e),t=function(e,t){return!(void 0===o[e]||o[e]===t)};if(o.opacity<1||t(\"zIndex\",\"auto\")||t(\"transform\",\"none\")||t(\"mixBlendMode\",\"normal\")||t(\"filter\",\"none\")||t(\"perspective\",\"none\")||\"isolate\"===o.isolation||\"fixed\"===o.position||\"touch\"===o.webkitOverflowScrolling)return!0;e=e.parentElement}return!1})(this.dialog_.parentElement)&&console.warn(\"A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context\"),this.setOpen(!0),this.openAsModal_=!0,r.needsCentering(this.dialog_)?(r.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(e){if(!this.dialog_.hasAttribute(\"open\"))throw new Error(\"Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.\");this.setOpen(!1),void 0!==e&&(this.dialog_.returnValue=e);var t=new i(\"close\",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(t)}};var r={reposition:function(e){var t=document.body.scrollTop||document.documentElement.scrollTop,o=t+(window.innerHeight-e.offsetHeight)/2;e.style.top=Math.max(t,o)+\"px\"},isInlinePositionSetByStylesheet:function(e){for(var t=0;t<document.styleSheets.length;++t){var o=document.styleSheets[t],i=null;try{i=o.cssRules}catch(e){}if(i)for(var n=0;n<i.length;++n){var a=i[n],r=null;try{r=document.querySelectorAll(a.selectorText)}catch(e){}if(r&&d(r,e)){var l=a.style.getPropertyValue(\"top\"),s=a.style.getPropertyValue(\"bottom\");if(l&&\"auto\"!==l||s&&\"auto\"!==s)return!0}}}return!1},needsCentering:function(e){return\"absolute\"===window.getComputedStyle(e).position&&(!(\"auto\"!==e.style.top&&\"\"!==e.style.top||\"auto\"!==e.style.bottom&&\"\"!==e.style.bottom)&&!r.isInlinePositionSetByStylesheet(e))},forceRegisterDialog:function(e){if((window.HTMLDialogElement||e.showModal)&&console.warn(\"This browser already supports <dialog>, the polyfill may not work correctly\",e),\"dialog\"!==e.localName)throw new Error(\"Failed to register dialog: The element is not a dialog.\");new t(e)},registerDialog:function(e){e.showModal||r.forceRegisterDialog(e)},DialogManager:function(){this.pendingDialogStack=[];var t=this.checkDOM_.bind(this);this.overlay=document.createElement(\"div\"),this.overlay.className=\"_dialog_overlay\",this.overlay.addEventListener(\"click\",function(e){this.forwardTab_=void 0,e.stopPropagation(),t([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,\"MutationObserver\"in window&&(this.mo_=new MutationObserver(function(e){var i=[];e.forEach(function(e){for(var t,o=0;t=e.removedNodes[o];++o)t instanceof Element&&(\"dialog\"===t.localName&&i.push(t),i=i.concat(t.querySelectorAll(\"dialog\")))}),i.length&&t(i)}))}};if(r.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener(\"focus\",this.handleFocus_,!0),document.addEventListener(\"keydown\",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},r.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener(\"focus\",this.handleFocus_,!0),document.removeEventListener(\"keydown\",this.handleKey_),this.mo_&&this.mo_.disconnect()},r.DialogManager.prototype.updateStacking=function(){for(var e,t=this.zIndexHigh_,o=0;e=this.pendingDialogStack[o];++o)e.updateZIndex(--t,--t),0===o&&(this.overlay.style.zIndex=--t);var i=this.pendingDialogStack[0];i?(i.dialog.parentNode||document.body).appendChild(this.overlay):this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},r.DialogManager.prototype.containedByTopDialog_=function(e){for(;e=n(e);){for(var t,o=0;t=this.pendingDialogStack[o];++o)if(t.dialog===e)return 0===o;e=e.parentElement}return!1},r.DialogManager.prototype.handleFocus_=function(e){if(!this.containedByTopDialog_(e.target)&&(e.preventDefault(),e.stopPropagation(),o(e.target),void 0!==this.forwardTab_)){var t=this.pendingDialogStack[0];return t.dialog.compareDocumentPosition(e.target)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?t.focus_():document.documentElement.focus()),!1}},r.DialogManager.prototype.handleKey_=function(e){if(this.forwardTab_=void 0,27===e.keyCode){e.preventDefault(),e.stopPropagation();var t=new i(\"cancel\",{bubbles:!1,cancelable:!0}),o=this.pendingDialogStack[0];o&&o.dialog.dispatchEvent(t)&&o.dialog.close()}else 9===e.keyCode&&(this.forwardTab_=!e.shiftKey)},r.DialogManager.prototype.checkDOM_=function(t){this.pendingDialogStack.slice().forEach(function(e){-1!==t.indexOf(e.dialog)?e.downgradeModal():e.maybeHideModal()})},r.DialogManager.prototype.pushDialog=function(e){var t=(this.zIndexHigh_-this.zIndexLow_)/2-1;return!(this.pendingDialogStack.length>=t)&&(1===this.pendingDialogStack.unshift(e)&&this.blockDocument(),this.updateStacking(),!0)},r.DialogManager.prototype.removeDialog=function(e){var t=this.pendingDialogStack.indexOf(e);-1!==t&&(this.pendingDialogStack.splice(t,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},r.dm=new r.DialogManager,r.formSubmitter=null,r.useValue=null,void 0===window.HTMLDialogElement){var e=document.createElement(\"form\");if(e.setAttribute(\"method\",\"dialog\"),\"dialog\"!==e.method){var l=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,\"method\");if(l){var s=l.get;l.get=function(){return a(this)?\"dialog\":s.call(this)};var c=l.set;l.set=function(e){return\"string\"==typeof e&&\"dialog\"===e.toLowerCase()?this.setAttribute(\"method\",e):c.call(this,e)},Object.defineProperty(HTMLFormElement.prototype,\"method\",l)}}document.addEventListener(\"click\",function(e){if(r.formSubmitter=null,r.useValue=null,!e.defaultPrevented){var t=e.target;if(t&&a(t.form)){if(!(\"submit\"===t.type&&-1<[\"button\",\"input\"].indexOf(t.localName))){if(\"input\"!==t.localName||\"image\"!==t.type)return;r.useValue=e.offsetX+\",\"+e.offsetY}n(t)&&(r.formSubmitter=t)}}},!1);var u=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){if(!a(this))return u.call(this);var e=n(this);e&&e.close()},document.addEventListener(\"submit\",function(e){var t=e.target;if(a(t)){e.preventDefault();var o=n(t);if(o){var i=r.formSubmitter;i&&i.form===t?o.close(r.useValue||i.value):o.close(),r.formSubmitter=null}}},!0)}r.forceRegisterDialog=r.forceRegisterDialog,r.registerDialog=r.registerDialog,\"function\"==typeof define&&\"amd\"in define?define(function(){return r}):\"object\"===(\"undefined\"==typeof module?\"undefined\":_typeof(module))&&\"object\"===_typeof(module.exports)?module.exports=r:window.dialogPolyfill=r}();","\"use strict\";var $paginator=void 0,items=void 0;function clearField(a,e){getmdlSelect.init(\".mdl-filter\"+a),document.getElementsByClassName(\"mdl-filter\"+a)[0].classList.remove(\"is-dirty\"),e.style.display=\"none\"}function objaviStatus(){var a=$(\"#trenutniUporabnik\").val();if(\"\"!=$(\"#currStatus\").val()){$(\"#status\"+a).text($(\"#currStatus\").val()).parent().removeClass(\"hide-element\");var e={currStatus:$(\"#currStatus\").val()};$.ajax({url:\"/status\",type:\"POST\",contentType:\"application/json\",data:JSON.stringify(e),success:function(){$(\"#currStatus\").val(\"\");document.querySelector(\"#mainToast\").MaterialSnackbar.showSnackbar({message:\"Status je bil uspešno posodobljen!\"})},error:function(a,e,t){document.querySelector(\"#mainToast\").MaterialSnackbar.showSnackbar({message:\"Prišlo je do napake, status ni bil shranjen!\"})}})}else $(\"#status\"+a).parent.addClass(\"hide-element\")}function updateItems(){items=$(\".paginate\"),$paginator.pagination(\"updateItems\",items.length);var a=Math.min($paginator.pagination(\"getCurrentPage\"),$paginator.pagination(\"getPagesCount\"));$paginator.pagination(\"selectPage\",a),24<items.length&&$(\"#pagination\").attr(\"style\",\"display: list-view\")}function queryNaloge(){$(\"body\").css(\"cursor\",\"progress\");var a={};\"\"!=$(\"input[name='osebaSearch']\").val()&&(a.oseba=$(\"input[name='osebaSearch']\").val()),\"\"!=$(\"input[name='statusSearch']\").val()&&(a.status=$(\"input[name='statusSearch']\").val()),\"\"!=$(\"input[name='kategorijaSearch']\").val()&&(a.kategorija=$(\"input[name='kategorijaSearch']\").val()),\"\"!=$(\"input[name='avtorSearch']\").val()&&(a.avtor=$(\"input[name='avtorSearch']\").val()),\"\"!=$(\"input[name='koledarSearch']\").val()&&(a.koledar=$(\"input[name='koledarSearch']\").val()),\"\"!=$(\"input[name='ciljSearch']\").val()&&(a.cilj=$(\"input[name='ciljSearch']\").val()),$.ajax({url:\"/prikazi_naloge\",type:\"POST\",data:a,success:function(a,e){if($(\"body\").css(\"cursor\",\"default\"),a.includes(\"<!doctype html>\"))window.location.reload();else if(0==a.length){document.querySelector(\"#mainToast\").MaterialSnackbar.showSnackbar({message:\"Nobena naloga ne ustreza iskalnim parametrom!\"})}else{$(\"#nalogeGrid\").html(a),updateItems(),function(a,e){var t=document.getElementById(\"nalogeGrid\").getElementsByClassName(\"mdl-card\"),l=void 0;for(l=0;l<t.length;l++)t[l].getElementsByTagName(\"button\")[0].onclick=function(a){return function(){e(a,event)}}(t[l])}(0,function(a,e){currentElement=a,posodobiNalogo(),$(\"#newDialog\").val(a.getElementsByClassName(\"idNaloga\")[0].value),$(\"#imeDialog\").val(a.getElementsByClassName(\"queryIme\")[0].innerHTML).parent().addClass(\"is-dirty\"),$(\"#opisDialog\").val(a.getElementsByClassName(\"queryOpis\")[0].innerHTML).parent().addClass(\"is-dirty\");var t=void 0,l=void 0;try{t=a.getElementsByClassName(\"dateNaloga\")[0].innerHTML,l=a.getElementsByClassName(\"dateNaloga\")[1].innerHTML}catch(a){console.log(a)}t&&($(\"#targetZacetek\").val(t).parent().addClass(\"is-dirty\"),$(\"#dateZacetek\").val(moment(t.replace(\" ob \",\" \"),\"DD-MM-Y HH:mm\").format(\"Y-MM-DD HH:mm\"))),l&&($(\"#targetKonec\").val(l).parent().addClass(\"is-dirty\"),$(\"#dateKonec\").val(moment(l.replace(\" ob \",\" \"),\"DD-MM-Y HH:mm\").format(\"Y-MM-DD HH:mm\")));var n=a.getElementsByClassName(\"kategorijaNaloga\")[0].value;\"\"!=n&&($(\"#kategorija\").get(0).placeholder=$(\".list-kategorija\").find(\"[data-val='\"+n+\"']\").get(0).textContent.trim(),$(\"input[name='sampleKategorija']\").parent().addClass(\"is-dirty\").find(\"li[data-val='\"+n+\"']\").attr(\"data-selected\",\"true\"),getmdlSelect.init(\"#dialogKategorija\"));var i=a.getElementsByClassName(\"ciljNaloga\")[0].value;\"\"!=i&&($(\"#vezanCilj\").get(0).placeholder=$(\".list-cilj\").find(\"[data-val='\"+i+\"']\").get(0).textContent.trim(),$(\"input[name='sampleCilj']\").parent().addClass(\"is-dirty\").find(\"li[data-val='\"+i+\"']\").attr(\"data-selected\",\"true\"),$(\"input[name='oldCilj']\").val(i),getmdlSelect.init(\"#dialogCilj\"));var s=a.getElementsByClassName(\"statusNaloga\")[0].innerHTML;\"\"!=s&&(\"Neopravljena\"==($(\"#statusNaloge\").get(0).placeholder=s)?($(\"#statusNaloge\").parent().addClass(\"is-dirty\").find(\"li[data-val='false']\").attr(\"data-selected\",\"true\"),$(\"input[name='oldStatus']\").val(\"false\"),$(\"input[name='newStatus']\").val(\"false\")):($(\"#statusNaloge\").parent().addClass(\"is-dirty\").find(\"li[data-val='true']\").attr(\"data-selected\",\"true\"),$(\"input[name='oldStatus']\").val(\"true\"),$(\"input[name='newStatus']\").val(\"true\")),getmdlSelect.init(\"#dialogStatus\")),$(\"#xpNaloge\").val(a.getElementsByClassName(\"xpNaloga\")[0].innerHTML.match(/\\d/g).join(\"\")).parent().addClass(\"is-dirty\");for(var r=a.getElementsByClassName(\"udelezenecNaloga\"),o=$(\"input:checkbox[name='person']\"),c=[],d=1;d<o.length;d++)c.push($(\"#\"+o[d].id).val());$(\"#checkboxVsi\").parent()[0].MaterialCheckbox.uncheck(),o.length-1==r.length&&$(\"#checkboxVsi\").parent()[0].MaterialCheckbox.check();for(var u=0,m=1;m<o.length;m++)$(\"#\"+o[m].id).parent()[0].MaterialCheckbox.uncheck();for(;u<r.length;){var p=c.indexOf(r[u].value);-1!==p&&($(\"#\"+o[p+1].id).parent()[0].MaterialCheckbox.check(),u++)}e.stopPropagation()})}},error:function(a,e,t){$(\"body\").css(\"cursor\",\"default\"),console.log(a.status,a.responseText,t);document.querySelector(\"#mainToast\").MaterialSnackbar.showSnackbar({message:\"Med nalaganjem nalog je prišlo do napake!\"})}}),updateItems()}jQuery(function(i){i(\"#osebaSearch\").get(0).onchange=function(){i(\"#chipOseba\").attr(\"style\",\"display: inline-block;\").find(\"span:first-child\").text(i(this).val())},i(\"#statusSearch\").get(0).onchange=function(){i(\"#chipStatus\").attr(\"style\",\"display: inline-block;\").find(\"span:first-child\").text(i(this).val())},i(\"#kategorijaSearch\").get(0).onchange=function(){i(\"#chipKategorija\").attr(\"style\",\"display: inline-block;\").find(\"span:first-child\").text(i(this).val())},i(\"#avtorSearch\").get(0).onchange=function(){i(\"#chipAvtor\").attr(\"style\",\"display: inline-block;\").find(\"span:first-child\").text(i(this).val())},i(\"#koledarSearch\").get(0).onchange=function(){i(\"#chipKoledar\").attr(\"style\",\"display: inline-block;\").find(\"span:first-child\").text(i(this).val())},i(\"#ciljSearch\").get(0).onchange=function(){i(\"#chipCilj\").attr(\"style\",\"display: inline-block;\").find(\"span:first-child\").text(i(this).val())},($paginator=i(\"#pagination\")).pagination({itemsOnPage:24,cssStyle:\"light-theme\",onPageClick:function(a){var e=i(document).width(),t=24*(a-1),l=t+24;i(\".naloge-center\").attr(\"style\",\"display: none!important\");for(var n=t;n<=l;n++)1440<e?(i(\"#cellHa\"+n).attr(\"style\",\"display: block!important\"),i(\"#cellHb\"+n).attr(\"style\",\"display: block!important\")):840<e&&(i(\"#cellPa\"+n).attr(\"style\",\"display: block!important\"),i(\"#cellPb\"+n).attr(\"style\",\"display: block!important\"));items.hide().slice(t,l).show()}}),i(\"#filter\").click(function(){queryNaloge()}),i(\"#reset\").click(function(){getmdlSelect.init(\".mdl-filter\"),i(\".selected\").removeClass(\"selected\"),i(\"input[name='osebaSearch']\").val(\"\").parent().removeClass(\"is-dirty\"),i(\"#statusSearch\").val(\"\").parent().removeClass(\"is-dirty\"),i(\"input[name='kategorijaSearch']\").val(\"\").parent().removeClass(\"is-dirty\"),i(\"input[name='avtorSearch']\").val(\"\").parent().removeClass(\"is-dirty\"),i(\"#koledarSearch\").val(\"\").parent().removeClass(\"is-dirty\"),i(\"#ciljSearch\").val(\"\").parent().removeClass(\"is-dirty\")}),queryNaloge(),i(\"#menuDashboard\").addClass(\"is-active\"),i(\"#dashboard\").addClass(\"is-active\")});",";(function (window, $, undefined) { ;(function () {\r\n    var VERSION = '2.2.3',\r\n        pluginName = 'datepicker',\r\n        autoInitSelector = '.datepicker-here',\r\n        $body, $datepickersContainer,\r\n        containerBuilt = false,\r\n        baseTemplate = '' +\r\n            '<div class=\"datepicker\">' +\r\n            '<i class=\"datepicker--pointer\"></i>' +\r\n            '<nav class=\"datepicker--nav\"></nav>' +\r\n            '<div class=\"datepicker--content\"></div>' +\r\n            '</div>',\r\n        defaults = {\r\n            classes: '',\r\n            inline: false,\r\n            language: 'ru',\r\n            startDate: new Date(),\r\n            firstDay: '',\r\n            weekends: [6, 0],\r\n            dateFormat: '',\r\n            altField: '',\r\n            altFieldDateFormat: '@',\r\n            toggleSelected: true,\r\n            keyboardNav: true,\r\n\r\n            position: 'bottom left',\r\n            offset: 12,\r\n\r\n            view: 'days',\r\n            minView: 'days',\r\n\r\n            showOtherMonths: true,\r\n            selectOtherMonths: true,\r\n            moveToOtherMonthsOnSelect: true,\r\n\r\n            showOtherYears: true,\r\n            selectOtherYears: true,\r\n            moveToOtherYearsOnSelect: true,\r\n\r\n            minDate: '',\r\n            maxDate: '',\r\n            disableNavWhenOutOfRange: true,\r\n\r\n            multipleDates: false, // Boolean or Number\r\n            multipleDatesSeparator: ',',\r\n            range: false,\r\n\r\n            todayButton: false,\r\n            clearButton: false,\r\n\r\n            showEvent: 'focus',\r\n            autoClose: false,\r\n\r\n            // navigation\r\n            monthsField: 'monthsShort',\r\n            prevHtml: '<svg><path d=\"M 17,12 l -5,5 l 5,5\"></path></svg>',\r\n            nextHtml: '<svg><path d=\"M 14,12 l 5,5 l -5,5\"></path></svg>',\r\n            navTitles: {\r\n                days: 'MM, <i>yyyy</i>',\r\n                months: 'yyyy',\r\n                years: 'yyyy1 - yyyy2'\r\n            },\r\n\r\n            // timepicker\r\n            timepicker: false,\r\n            onlyTimepicker: false,\r\n            dateTimeSeparator: ' ',\r\n            timeFormat: '',\r\n            minHours: 0,\r\n            maxHours: 24,\r\n            minMinutes: 0,\r\n            maxMinutes: 59,\r\n            hoursStep: 1,\r\n            minutesStep: 1,\r\n\r\n            // events\r\n            onSelect: '',\r\n            onShow: '',\r\n            onHide: '',\r\n            onChangeMonth: '',\r\n            onChangeYear: '',\r\n            onChangeDecade: '',\r\n            onChangeView: '',\r\n            onRenderCell: ''\r\n        },\r\n        hotKeys = {\r\n            'ctrlRight': [17, 39],\r\n            'ctrlUp': [17, 38],\r\n            'ctrlLeft': [17, 37],\r\n            'ctrlDown': [17, 40],\r\n            'shiftRight': [16, 39],\r\n            'shiftUp': [16, 38],\r\n            'shiftLeft': [16, 37],\r\n            'shiftDown': [16, 40],\r\n            'altUp': [18, 38],\r\n            'altRight': [18, 39],\r\n            'altLeft': [18, 37],\r\n            'altDown': [18, 40],\r\n            'ctrlShiftUp': [16, 17, 38]\r\n        },\r\n        datepicker;\r\n\r\n    var Datepicker  = function (el, options) {\r\n        this.el = el;\r\n        this.$el = $(el);\r\n\r\n        this.opts = $.extend(true, {}, defaults, options, this.$el.data());\r\n\r\n        if ($body == undefined) {\r\n            $body = $('body');\r\n        }\r\n\r\n        if (!this.opts.startDate) {\r\n            this.opts.startDate = new Date();\r\n        }\r\n\r\n        if (this.el.nodeName == 'INPUT') {\r\n            this.elIsInput = true;\r\n        }\r\n\r\n        if (this.opts.altField) {\r\n            this.$altField = typeof this.opts.altField == 'string' ? $(this.opts.altField) : this.opts.altField;\r\n        }\r\n\r\n        this.inited = false;\r\n        this.visible = false;\r\n        this.silent = false; // Need to prevent unnecessary rendering\r\n\r\n        this.currentDate = this.opts.startDate;\r\n        this.currentView = this.opts.view;\r\n        this._createShortCuts();\r\n        this.selectedDates = [];\r\n        this.views = {};\r\n        this.keys = [];\r\n        this.minRange = '';\r\n        this.maxRange = '';\r\n        this._prevOnSelectValue = '';\r\n\r\n        this.init()\r\n    };\r\n\r\n    datepicker = Datepicker;\r\n\r\n    datepicker.prototype = {\r\n        VERSION: VERSION,\r\n        viewIndexes: ['days', 'months', 'years'],\r\n\r\n        init: function () {\r\n            if (!containerBuilt && !this.opts.inline && this.elIsInput) {\r\n                this._buildDatepickersContainer();\r\n            }\r\n            this._buildBaseHtml();\r\n            this._defineLocale(this.opts.language);\r\n            this._syncWithMinMaxDates();\r\n\r\n            if (this.elIsInput) {\r\n                if (!this.opts.inline) {\r\n                    // Set extra classes for proper transitions\r\n                    this._setPositionClasses(this.opts.position);\r\n                    this._bindEvents()\r\n                }\r\n                if (this.opts.keyboardNav && !this.opts.onlyTimepicker) {\r\n                    this._bindKeyboardEvents();\r\n                }\r\n                this.$datepicker.on('mousedown', this._onMouseDownDatepicker.bind(this));\r\n                this.$datepicker.on('mouseup', this._onMouseUpDatepicker.bind(this));\r\n            }\r\n\r\n            if (this.opts.classes) {\r\n                this.$datepicker.addClass(this.opts.classes)\r\n            }\r\n\r\n            if (this.opts.timepicker) {\r\n                this.timepicker = new $.fn.datepicker.Timepicker(this, this.opts);\r\n                this._bindTimepickerEvents();\r\n            }\r\n\r\n            if (this.opts.onlyTimepicker) {\r\n                this.$datepicker.addClass('-only-timepicker-');\r\n            }\r\n\r\n            this.views[this.currentView] = new $.fn.datepicker.Body(this, this.currentView, this.opts);\r\n            this.views[this.currentView].show();\r\n            this.nav = new $.fn.datepicker.Navigation(this, this.opts);\r\n            this.view = this.currentView;\r\n\r\n            this.$el.on('clickCell.adp', this._onClickCell.bind(this));\r\n            this.$datepicker.on('mouseenter', '.datepicker--cell', this._onMouseEnterCell.bind(this));\r\n            this.$datepicker.on('mouseleave', '.datepicker--cell', this._onMouseLeaveCell.bind(this));\r\n\r\n            this.inited = true;\r\n        },\r\n\r\n        _createShortCuts: function () {\r\n            this.minDate = this.opts.minDate ? this.opts.minDate : new Date(-8639999913600000);\r\n            this.maxDate = this.opts.maxDate ? this.opts.maxDate : new Date(8639999913600000);\r\n        },\r\n\r\n        _bindEvents : function () {\r\n            this.$el.on(this.opts.showEvent + '.adp', this._onShowEvent.bind(this));\r\n            this.$el.on('mouseup.adp', this._onMouseUpEl.bind(this));\r\n            this.$el.on('blur.adp', this._onBlur.bind(this));\r\n            this.$el.on('keyup.adp', this._onKeyUpGeneral.bind(this));\r\n            $(window).on('resize.adp', this._onResize.bind(this));\r\n            $('body').on('mouseup.adp', this._onMouseUpBody.bind(this));\r\n        },\r\n\r\n        _bindKeyboardEvents: function () {\r\n            this.$el.on('keydown.adp', this._onKeyDown.bind(this));\r\n            this.$el.on('keyup.adp', this._onKeyUp.bind(this));\r\n            this.$el.on('hotKey.adp', this._onHotKey.bind(this));\r\n        },\r\n\r\n        _bindTimepickerEvents: function () {\r\n            this.$el.on('timeChange.adp', this._onTimeChange.bind(this));\r\n        },\r\n\r\n        isWeekend: function (day) {\r\n            return this.opts.weekends.indexOf(day) !== -1;\r\n        },\r\n\r\n        _defineLocale: function (lang) {\r\n            if (typeof lang == 'string') {\r\n                this.loc = $.fn.datepicker.language[lang];\r\n                if (!this.loc) {\r\n                    console.warn('Can\\'t find language \"' + lang + '\" in Datepicker.language, will use \"ru\" instead');\r\n                    this.loc = $.extend(true, {}, $.fn.datepicker.language.ru)\r\n                }\r\n\r\n                this.loc = $.extend(true, {}, $.fn.datepicker.language.ru, $.fn.datepicker.language[lang])\r\n            } else {\r\n                this.loc = $.extend(true, {}, $.fn.datepicker.language.ru, lang)\r\n            }\r\n\r\n            if (this.opts.dateFormat) {\r\n                this.loc.dateFormat = this.opts.dateFormat\r\n            }\r\n\r\n            if (this.opts.timeFormat) {\r\n                this.loc.timeFormat = this.opts.timeFormat\r\n            }\r\n\r\n            if (this.opts.firstDay !== '') {\r\n                this.loc.firstDay = this.opts.firstDay\r\n            }\r\n\r\n            if (this.opts.timepicker) {\r\n                this.loc.dateFormat = [this.loc.dateFormat, this.loc.timeFormat].join(this.opts.dateTimeSeparator);\r\n            }\r\n\r\n            if (this.opts.onlyTimepicker) {\r\n                this.loc.dateFormat = this.loc.timeFormat;\r\n            }\r\n\r\n            var boundary = this._getWordBoundaryRegExp;\r\n            if (this.loc.timeFormat.match(boundary('aa')) ||\r\n                this.loc.timeFormat.match(boundary('AA'))\r\n            ) {\r\n               this.ampm = true;\r\n            }\r\n        },\r\n\r\n        _buildDatepickersContainer: function () {\r\n            containerBuilt = true;\r\n            $body.append('<div class=\"datepickers-container\" id=\"datepickers-container\"></div>');\r\n            $datepickersContainer = $('#datepickers-container');\r\n        },\r\n\r\n        _buildBaseHtml: function () {\r\n            var $appendTarget,\r\n                $inline = $('<div class=\"datepicker-inline\">');\r\n\r\n            if(this.el.nodeName == 'INPUT') {\r\n                if (!this.opts.inline) {\r\n                    $appendTarget = $datepickersContainer;\r\n                } else {\r\n                    $appendTarget = $inline.insertAfter(this.$el)\r\n                }\r\n            } else {\r\n                $appendTarget = $inline.appendTo(this.$el)\r\n            }\r\n\r\n            this.$datepicker = $(baseTemplate).appendTo($appendTarget);\r\n            this.$content = $('.datepicker--content', this.$datepicker);\r\n            this.$nav = $('.datepicker--nav', this.$datepicker);\r\n        },\r\n\r\n        _triggerOnChange: function () {\r\n            if (!this.selectedDates.length) {\r\n                // Prevent from triggering multiple onSelect callback with same argument (empty string) in IE10-11\r\n                if (this._prevOnSelectValue === '') return;\r\n                this._prevOnSelectValue = '';\r\n                return this.opts.onSelect('', '', this);\r\n            }\r\n\r\n            var selectedDates = this.selectedDates,\r\n                parsedSelected = datepicker.getParsedDate(selectedDates[0]),\r\n                formattedDates,\r\n                _this = this,\r\n                dates = new Date(\r\n                    parsedSelected.year,\r\n                    parsedSelected.month,\r\n                    parsedSelected.date,\r\n                    parsedSelected.hours,\r\n                    parsedSelected.minutes\r\n                );\r\n\r\n                formattedDates = selectedDates.map(function (date) {\r\n                    return _this.formatDate(_this.loc.dateFormat, date)\r\n                }).join(this.opts.multipleDatesSeparator);\r\n\r\n            // Create new dates array, to separate it from original selectedDates\r\n            if (this.opts.multipleDates || this.opts.range) {\r\n                dates = selectedDates.map(function(date) {\r\n                    var parsedDate = datepicker.getParsedDate(date);\r\n                    return new Date(\r\n                        parsedDate.year,\r\n                        parsedDate.month,\r\n                        parsedDate.date,\r\n                        parsedDate.hours,\r\n                        parsedDate.minutes\r\n                    );\r\n                })\r\n            }\r\n\r\n            this._prevOnSelectValue = formattedDates;\r\n            this.opts.onSelect(formattedDates, dates, this);\r\n        },\r\n\r\n        next: function () {\r\n            var d = this.parsedDate,\r\n                o = this.opts;\r\n            switch (this.view) {\r\n                case 'days':\r\n                    this.date = new Date(d.year, d.month + 1, 1);\r\n                    if (o.onChangeMonth) o.onChangeMonth(this.parsedDate.month, this.parsedDate.year);\r\n                    break;\r\n                case 'months':\r\n                    this.date = new Date(d.year + 1, d.month, 1);\r\n                    if (o.onChangeYear) o.onChangeYear(this.parsedDate.year);\r\n                    break;\r\n                case 'years':\r\n                    this.date = new Date(d.year + 10, 0, 1);\r\n                    if (o.onChangeDecade) o.onChangeDecade(this.curDecade);\r\n                    break;\r\n            }\r\n        },\r\n\r\n        prev: function () {\r\n            var d = this.parsedDate,\r\n                o = this.opts;\r\n            switch (this.view) {\r\n                case 'days':\r\n                    this.date = new Date(d.year, d.month - 1, 1);\r\n                    if (o.onChangeMonth) o.onChangeMonth(this.parsedDate.month, this.parsedDate.year);\r\n                    break;\r\n                case 'months':\r\n                    this.date = new Date(d.year - 1, d.month, 1);\r\n                    if (o.onChangeYear) o.onChangeYear(this.parsedDate.year);\r\n                    break;\r\n                case 'years':\r\n                    this.date = new Date(d.year - 10, 0, 1);\r\n                    if (o.onChangeDecade) o.onChangeDecade(this.curDecade);\r\n                    break;\r\n            }\r\n        },\r\n\r\n        formatDate: function (string, date) {\r\n            date = date || this.date;\r\n            var result = string,\r\n                boundary = this._getWordBoundaryRegExp,\r\n                locale = this.loc,\r\n                leadingZero = datepicker.getLeadingZeroNum,\r\n                decade = datepicker.getDecade(date),\r\n                d = datepicker.getParsedDate(date),\r\n                fullHours = d.fullHours,\r\n                hours = d.hours,\r\n                ampm = string.match(boundary('aa')) || string.match(boundary('AA')),\r\n                dayPeriod = 'am',\r\n                replacer = this._replacer,\r\n                validHours;\r\n\r\n            if (this.opts.timepicker && this.timepicker && ampm) {\r\n                validHours = this.timepicker._getValidHoursFromDate(date, ampm);\r\n                fullHours = leadingZero(validHours.hours);\r\n                hours = validHours.hours;\r\n                dayPeriod = validHours.dayPeriod;\r\n            }\r\n\r\n            switch (true) {\r\n                case /@/.test(result):\r\n                    result = result.replace(/@/, date.getTime());\r\n                case /aa/.test(result):\r\n                    result = replacer(result, boundary('aa'), dayPeriod);\r\n                case /AA/.test(result):\r\n                    result = replacer(result, boundary('AA'), dayPeriod.toUpperCase());\r\n                case /dd/.test(result):\r\n                    result = replacer(result, boundary('dd'), d.fullDate);\r\n                case /d/.test(result):\r\n                    result = replacer(result, boundary('d'), d.date);\r\n                case /DD/.test(result):\r\n                    result = replacer(result, boundary('DD'), locale.days[d.day]);\r\n                case /D/.test(result):\r\n                    result = replacer(result, boundary('D'), locale.daysShort[d.day]);\r\n                case /mm/.test(result):\r\n                    result = replacer(result, boundary('mm'), d.fullMonth);\r\n                case /m/.test(result):\r\n                    result = replacer(result, boundary('m'), d.month + 1);\r\n                case /MM/.test(result):\r\n                    result = replacer(result, boundary('MM'), this.loc.months[d.month]);\r\n                case /M/.test(result):\r\n                    result = replacer(result, boundary('M'), locale.monthsShort[d.month]);\r\n                case /ii/.test(result):\r\n                    result = replacer(result, boundary('ii'), d.fullMinutes);\r\n                case /i/.test(result):\r\n                    result = replacer(result, boundary('i'), d.minutes);\r\n                case /hh/.test(result):\r\n                    result = replacer(result, boundary('hh'), fullHours);\r\n                case /h/.test(result):\r\n                    result = replacer(result, boundary('h'), hours);\r\n                case /yyyy/.test(result):\r\n                    result = replacer(result, boundary('yyyy'), d.year);\r\n                case /yyyy1/.test(result):\r\n                    result = replacer(result, boundary('yyyy1'), decade[0]);\r\n                case /yyyy2/.test(result):\r\n                    result = replacer(result, boundary('yyyy2'), decade[1]);\r\n                case /yy/.test(result):\r\n                    result = replacer(result, boundary('yy'), d.year.toString().slice(-2));\r\n            }\r\n\r\n            return result;\r\n        },\r\n\r\n        _replacer: function (str, reg, data) {\r\n            return str.replace(reg, function (match, p1,p2,p3) {\r\n                return p1 + data + p3;\r\n            })\r\n        },\r\n\r\n        _getWordBoundaryRegExp: function (sign) {\r\n            var symbols = '\\\\s|\\\\.|-|/|\\\\\\\\|,|\\\\$|\\\\!|\\\\?|:|;';\r\n\r\n            return new RegExp('(^|>|' + symbols + ')(' + sign + ')($|<|' + symbols + ')', 'g');\r\n        },\r\n\r\n\r\n        selectDate: function (date) {\r\n            var _this = this,\r\n                opts = _this.opts,\r\n                d = _this.parsedDate,\r\n                selectedDates = _this.selectedDates,\r\n                len = selectedDates.length,\r\n                newDate = '';\r\n\r\n            if (Array.isArray(date)) {\r\n                date.forEach(function (d) {\r\n                    _this.selectDate(d)\r\n                });\r\n                return;\r\n            }\r\n\r\n            if (!(date instanceof Date)) return;\r\n\r\n            this.lastSelectedDate = date;\r\n\r\n            // Set new time values from Date\r\n            if (this.timepicker) {\r\n                this.timepicker._setTime(date);\r\n            }\r\n\r\n            // On this step timepicker will set valid values in it's instance\r\n            _this._trigger('selectDate', date);\r\n\r\n            // Set correct time values after timepicker's validation\r\n            // Prevent from setting hours or minutes which values are lesser then `min` value or\r\n            // greater then `max` value\r\n            if (this.timepicker) {\r\n                date.setHours(this.timepicker.hours);\r\n                date.setMinutes(this.timepicker.minutes)\r\n            }\r\n\r\n            if (_this.view == 'days') {\r\n                if (date.getMonth() != d.month && opts.moveToOtherMonthsOnSelect) {\r\n                    newDate = new Date(date.getFullYear(), date.getMonth(), 1);\r\n                }\r\n            }\r\n\r\n            if (_this.view == 'years') {\r\n                if (date.getFullYear() != d.year && opts.moveToOtherYearsOnSelect) {\r\n                    newDate = new Date(date.getFullYear(), 0, 1);\r\n                }\r\n            }\r\n\r\n            if (newDate) {\r\n                _this.silent = true;\r\n                _this.date = newDate;\r\n                _this.silent = false;\r\n                _this.nav._render()\r\n            }\r\n\r\n            if (opts.multipleDates && !opts.range) { // Set priority to range functionality\r\n                if (len === opts.multipleDates) return;\r\n                if (!_this._isSelected(date)) {\r\n                    _this.selectedDates.push(date);\r\n                }\r\n            } else if (opts.range) {\r\n                if (len == 2) {\r\n                    _this.selectedDates = [date];\r\n                    _this.minRange = date;\r\n                    _this.maxRange = '';\r\n                } else if (len == 1) {\r\n                    _this.selectedDates.push(date);\r\n                    if (!_this.maxRange){\r\n                        _this.maxRange = date;\r\n                    } else {\r\n                        _this.minRange = date;\r\n                    }\r\n                    // Swap dates if they were selected via dp.selectDate() and second date was smaller then first\r\n                    if (datepicker.bigger(_this.maxRange, _this.minRange)) {\r\n                        _this.maxRange = _this.minRange;\r\n                        _this.minRange = date;\r\n                    }\r\n                    _this.selectedDates = [_this.minRange, _this.maxRange]\r\n\r\n                } else {\r\n                    _this.selectedDates = [date];\r\n                    _this.minRange = date;\r\n                }\r\n            } else {\r\n                _this.selectedDates = [date];\r\n            }\r\n\r\n            _this._setInputValue();\r\n\r\n            if (opts.onSelect) {\r\n                _this._triggerOnChange();\r\n            }\r\n\r\n            if (opts.autoClose && !this.timepickerIsActive) {\r\n                if (!opts.multipleDates && !opts.range) {\r\n                    _this.hide();\r\n                } else if (opts.range && _this.selectedDates.length == 2) {\r\n                    _this.hide();\r\n                }\r\n            }\r\n\r\n            _this.views[this.currentView]._render()\r\n        },\r\n\r\n        removeDate: function (date) {\r\n            var selected = this.selectedDates,\r\n                _this = this;\r\n\r\n            if (!(date instanceof Date)) return;\r\n\r\n            return selected.some(function (curDate, i) {\r\n                if (datepicker.isSame(curDate, date)) {\r\n                    selected.splice(i, 1);\r\n\r\n                    if (!_this.selectedDates.length) {\r\n                        _this.minRange = '';\r\n                        _this.maxRange = '';\r\n                        _this.lastSelectedDate = '';\r\n                    } else {\r\n                        _this.lastSelectedDate = _this.selectedDates[_this.selectedDates.length - 1];\r\n                    }\r\n\r\n                    _this.views[_this.currentView]._render();\r\n                    _this._setInputValue();\r\n\r\n                    if (_this.opts.onSelect) {\r\n                        _this._triggerOnChange();\r\n                    }\r\n\r\n                    return true\r\n                }\r\n            })\r\n        },\r\n\r\n        today: function () {\r\n            this.silent = true;\r\n            this.view = this.opts.minView;\r\n            this.silent = false;\r\n            this.date = new Date();\r\n\r\n            if (this.opts.todayButton instanceof Date) {\r\n                this.selectDate(this.opts.todayButton)\r\n            }\r\n        },\r\n\r\n        clear: function () {\r\n            this.selectedDates = [];\r\n            this.minRange = '';\r\n            this.maxRange = '';\r\n            this.views[this.currentView]._render();\r\n            this._setInputValue();\r\n            if (this.opts.onSelect) {\r\n                this._triggerOnChange()\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Updates datepicker options\r\n         * @param {String|Object} param - parameter's name to update. If object then it will extend current options\r\n         * @param {String|Number|Object} [value] - new param value\r\n         */\r\n        update: function (param, value) {\r\n            var len = arguments.length,\r\n                lastSelectedDate = this.lastSelectedDate;\r\n\r\n            if (len == 2) {\r\n                this.opts[param] = value;\r\n            } else if (len == 1 && typeof param == 'object') {\r\n                this.opts = $.extend(true, this.opts, param)\r\n            }\r\n\r\n            this._createShortCuts();\r\n            this._syncWithMinMaxDates();\r\n            this._defineLocale(this.opts.language);\r\n            this.nav._addButtonsIfNeed();\r\n            if (!this.opts.onlyTimepicker) this.nav._render();\r\n            this.views[this.currentView]._render();\r\n\r\n            if (this.elIsInput && !this.opts.inline) {\r\n                this._setPositionClasses(this.opts.position);\r\n                if (this.visible) {\r\n                    this.setPosition(this.opts.position)\r\n                }\r\n            }\r\n\r\n            if (this.opts.classes) {\r\n                this.$datepicker.addClass(this.opts.classes)\r\n            }\r\n\r\n            if (this.opts.onlyTimepicker) {\r\n                this.$datepicker.addClass('-only-timepicker-');\r\n            }\r\n\r\n            if (this.opts.timepicker) {\r\n                if (lastSelectedDate) this.timepicker._handleDate(lastSelectedDate);\r\n                this.timepicker._updateRanges();\r\n                this.timepicker._updateCurrentTime();\r\n                // Change hours and minutes if it's values have been changed through min/max hours/minutes\r\n                if (lastSelectedDate) {\r\n                    lastSelectedDate.setHours(this.timepicker.hours);\r\n                    lastSelectedDate.setMinutes(this.timepicker.minutes);\r\n                }\r\n            }\r\n\r\n            this._setInputValue();\r\n\r\n            return this;\r\n        },\r\n\r\n        _syncWithMinMaxDates: function () {\r\n            var curTime = this.date.getTime();\r\n            this.silent = true;\r\n            if (this.minTime > curTime) {\r\n                this.date = this.minDate;\r\n            }\r\n\r\n            if (this.maxTime < curTime) {\r\n                this.date = this.maxDate;\r\n            }\r\n            this.silent = false;\r\n        },\r\n\r\n        _isSelected: function (checkDate, cellType) {\r\n            var res = false;\r\n            this.selectedDates.some(function (date) {\r\n                if (datepicker.isSame(date, checkDate, cellType)) {\r\n                    res = date;\r\n                    return true;\r\n                }\r\n            });\r\n            return res;\r\n        },\r\n\r\n        _setInputValue: function () {\r\n            var _this = this,\r\n                opts = _this.opts,\r\n                format = _this.loc.dateFormat,\r\n                altFormat = opts.altFieldDateFormat,\r\n                value = _this.selectedDates.map(function (date) {\r\n                    return _this.formatDate(format, date)\r\n                }),\r\n                altValues;\r\n\r\n            if (opts.altField && _this.$altField.length) {\r\n                altValues = this.selectedDates.map(function (date) {\r\n                    return _this.formatDate(altFormat, date)\r\n                });\r\n                altValues = altValues.join(this.opts.multipleDatesSeparator);\r\n                this.$altField.val(altValues);\r\n            }\r\n\r\n            value = value.join(this.opts.multipleDatesSeparator);\r\n\r\n            this.$el.val(value)\r\n        },\r\n\r\n        /**\r\n         * Check if date is between minDate and maxDate\r\n         * @param date {object} - date object\r\n         * @param type {string} - cell type\r\n         * @returns {boolean}\r\n         * @private\r\n         */\r\n        _isInRange: function (date, type) {\r\n            var time = date.getTime(),\r\n                d = datepicker.getParsedDate(date),\r\n                min = datepicker.getParsedDate(this.minDate),\r\n                max = datepicker.getParsedDate(this.maxDate),\r\n                dMinTime = new Date(d.year, d.month, min.date).getTime(),\r\n                dMaxTime = new Date(d.year, d.month, max.date).getTime(),\r\n                types = {\r\n                    day: time >= this.minTime && time <= this.maxTime,\r\n                    month: dMinTime >= this.minTime && dMaxTime <= this.maxTime,\r\n                    year: d.year >= min.year && d.year <= max.year\r\n                };\r\n            return type ? types[type] : types.day\r\n        },\r\n\r\n        _getDimensions: function ($el) {\r\n            var offset = $el.offset();\r\n\r\n            return {\r\n                width: $el.outerWidth(),\r\n                height: $el.outerHeight(),\r\n                left: offset.left,\r\n                top: offset.top\r\n            }\r\n        },\r\n\r\n        _getDateFromCell: function (cell) {\r\n            var curDate = this.parsedDate,\r\n                year = cell.data('year') || curDate.year,\r\n                month = cell.data('month') == undefined ? curDate.month : cell.data('month'),\r\n                date = cell.data('date') || 1;\r\n\r\n            return new Date(year, month, date);\r\n        },\r\n\r\n        _setPositionClasses: function (pos) {\r\n            pos = pos.split(' ');\r\n            var main = pos[0],\r\n                sec = pos[1],\r\n                classes = 'datepicker -' + main + '-' + sec + '- -from-' + main + '-';\r\n\r\n            if (this.visible) classes += ' active';\r\n\r\n            this.$datepicker\r\n                .removeAttr('class')\r\n                .addClass(classes);\r\n        },\r\n\r\n        setPosition: function (position) {\r\n            position = position || this.opts.position;\r\n\r\n            var dims = this._getDimensions(this.$el),\r\n                selfDims = this._getDimensions(this.$datepicker),\r\n                pos = position.split(' '),\r\n                top, left,\r\n                offset = this.opts.offset,\r\n                main = pos[0],\r\n                secondary = pos[1];\r\n\r\n            switch (main) {\r\n                case 'top':\r\n                    top = dims.top - selfDims.height - offset;\r\n                    break;\r\n                case 'right':\r\n                    left = dims.left + dims.width + offset;\r\n                    break;\r\n                case 'bottom':\r\n                    top = dims.top + dims.height + offset;\r\n                    break;\r\n                case 'left':\r\n                    left = dims.left - selfDims.width - offset;\r\n                    break;\r\n            }\r\n\r\n            switch(secondary) {\r\n                case 'top':\r\n                    top = dims.top;\r\n                    break;\r\n                case 'right':\r\n                    left = dims.left + dims.width - selfDims.width;\r\n                    break;\r\n                case 'bottom':\r\n                    top = dims.top + dims.height - selfDims.height;\r\n                    break;\r\n                case 'left':\r\n                    left = dims.left;\r\n                    break;\r\n                case 'center':\r\n                    if (/left|right/.test(main)) {\r\n                        top = dims.top + dims.height/2 - selfDims.height/2;\r\n                    } else {\r\n                        left = dims.left + dims.width/2 - selfDims.width/2;\r\n                    }\r\n            }\r\n\r\n            this.$datepicker\r\n                .css({\r\n                    left: left,\r\n                    top: top\r\n                })\r\n        },\r\n\r\n        show: function () {\r\n            var onShow = this.opts.onShow;\r\n\r\n            this.setPosition(this.opts.position);\r\n            this.$datepicker.addClass('active');\r\n            this.visible = true;\r\n\r\n            if (onShow) {\r\n                this._bindVisionEvents(onShow)\r\n            }\r\n        },\r\n\r\n        hide: function () {\r\n            var onHide = this.opts.onHide;\r\n\r\n            this.$datepicker\r\n                .removeClass('active')\r\n                .css({\r\n                    left: '-100000px'\r\n                });\r\n\r\n            this.focused = '';\r\n            this.keys = [];\r\n\r\n            this.inFocus = false;\r\n            this.visible = false;\r\n            this.$el.blur();\r\n\r\n            if (onHide) {\r\n                this._bindVisionEvents(onHide)\r\n            }\r\n        },\r\n\r\n        down: function (date) {\r\n            this._changeView(date, 'down');\r\n        },\r\n\r\n        up: function (date) {\r\n            this._changeView(date, 'up');\r\n        },\r\n\r\n        _bindVisionEvents: function (event) {\r\n            this.$datepicker.off('transitionend.dp');\r\n            event(this, false);\r\n            this.$datepicker.one('transitionend.dp', event.bind(this, this, true))\r\n        },\r\n\r\n        _changeView: function (date, dir) {\r\n            date = date || this.focused || this.date;\r\n\r\n            var nextView = dir == 'up' ? this.viewIndex + 1 : this.viewIndex - 1;\r\n            if (nextView > 2) nextView = 2;\r\n            if (nextView < 0) nextView = 0;\r\n\r\n            this.silent = true;\r\n            this.date = new Date(date.getFullYear(), date.getMonth(), 1);\r\n            this.silent = false;\r\n            this.view = this.viewIndexes[nextView];\r\n\r\n        },\r\n\r\n        _handleHotKey: function (key) {\r\n            var date = datepicker.getParsedDate(this._getFocusedDate()),\r\n                focusedParsed,\r\n                o = this.opts,\r\n                newDate,\r\n                totalDaysInNextMonth,\r\n                monthChanged = false,\r\n                yearChanged = false,\r\n                decadeChanged = false,\r\n                y = date.year,\r\n                m = date.month,\r\n                d = date.date;\r\n\r\n            switch (key) {\r\n                case 'ctrlRight':\r\n                case 'ctrlUp':\r\n                    m += 1;\r\n                    monthChanged = true;\r\n                    break;\r\n                case 'ctrlLeft':\r\n                case 'ctrlDown':\r\n                    m -= 1;\r\n                    monthChanged = true;\r\n                    break;\r\n                case 'shiftRight':\r\n                case 'shiftUp':\r\n                    yearChanged = true;\r\n                    y += 1;\r\n                    break;\r\n                case 'shiftLeft':\r\n                case 'shiftDown':\r\n                    yearChanged = true;\r\n                    y -= 1;\r\n                    break;\r\n                case 'altRight':\r\n                case 'altUp':\r\n                    decadeChanged = true;\r\n                    y += 10;\r\n                    break;\r\n                case 'altLeft':\r\n                case 'altDown':\r\n                    decadeChanged = true;\r\n                    y -= 10;\r\n                    break;\r\n                case 'ctrlShiftUp':\r\n                    this.up();\r\n                    break;\r\n            }\r\n\r\n            totalDaysInNextMonth = datepicker.getDaysCount(new Date(y,m));\r\n            newDate = new Date(y,m,d);\r\n\r\n            // If next month has less days than current, set date to total days in that month\r\n            if (totalDaysInNextMonth < d) d = totalDaysInNextMonth;\r\n\r\n            // Check if newDate is in valid range\r\n            if (newDate.getTime() < this.minTime) {\r\n                newDate = this.minDate;\r\n            } else if (newDate.getTime() > this.maxTime) {\r\n                newDate = this.maxDate;\r\n            }\r\n\r\n            this.focused = newDate;\r\n\r\n            focusedParsed = datepicker.getParsedDate(newDate);\r\n            if (monthChanged && o.onChangeMonth) {\r\n                o.onChangeMonth(focusedParsed.month, focusedParsed.year)\r\n            }\r\n            if (yearChanged && o.onChangeYear) {\r\n                o.onChangeYear(focusedParsed.year)\r\n            }\r\n            if (decadeChanged && o.onChangeDecade) {\r\n                o.onChangeDecade(this.curDecade)\r\n            }\r\n        },\r\n\r\n        _registerKey: function (key) {\r\n            var exists = this.keys.some(function (curKey) {\r\n                return curKey == key;\r\n            });\r\n\r\n            if (!exists) {\r\n                this.keys.push(key)\r\n            }\r\n        },\r\n\r\n        _unRegisterKey: function (key) {\r\n            var index = this.keys.indexOf(key);\r\n\r\n            this.keys.splice(index, 1);\r\n        },\r\n\r\n        _isHotKeyPressed: function () {\r\n            var currentHotKey,\r\n                found = false,\r\n                _this = this,\r\n                pressedKeys = this.keys.sort();\r\n\r\n            for (var hotKey in hotKeys) {\r\n                currentHotKey = hotKeys[hotKey];\r\n                if (pressedKeys.length != currentHotKey.length) continue;\r\n\r\n                if (currentHotKey.every(function (key, i) { return key == pressedKeys[i]})) {\r\n                    _this._trigger('hotKey', hotKey);\r\n                    found = true;\r\n                }\r\n            }\r\n\r\n            return found;\r\n        },\r\n\r\n        _trigger: function (event, args) {\r\n            this.$el.trigger(event, args)\r\n        },\r\n\r\n        _focusNextCell: function (keyCode, type) {\r\n            type = type || this.cellType;\r\n\r\n            var date = datepicker.getParsedDate(this._getFocusedDate()),\r\n                y = date.year,\r\n                m = date.month,\r\n                d = date.date;\r\n\r\n            if (this._isHotKeyPressed()){\r\n                return;\r\n            }\r\n\r\n            switch(keyCode) {\r\n                case 37: // left\r\n                    type == 'day' ? (d -= 1) : '';\r\n                    type == 'month' ? (m -= 1) : '';\r\n                    type == 'year' ? (y -= 1) : '';\r\n                    break;\r\n                case 38: // up\r\n                    type == 'day' ? (d -= 7) : '';\r\n                    type == 'month' ? (m -= 3) : '';\r\n                    type == 'year' ? (y -= 4) : '';\r\n                    break;\r\n                case 39: // right\r\n                    type == 'day' ? (d += 1) : '';\r\n                    type == 'month' ? (m += 1) : '';\r\n                    type == 'year' ? (y += 1) : '';\r\n                    break;\r\n                case 40: // down\r\n                    type == 'day' ? (d += 7) : '';\r\n                    type == 'month' ? (m += 3) : '';\r\n                    type == 'year' ? (y += 4) : '';\r\n                    break;\r\n            }\r\n\r\n            var nd = new Date(y,m,d);\r\n            if (nd.getTime() < this.minTime) {\r\n                nd = this.minDate;\r\n            } else if (nd.getTime() > this.maxTime) {\r\n                nd = this.maxDate;\r\n            }\r\n\r\n            this.focused = nd;\r\n\r\n        },\r\n\r\n        _getFocusedDate: function () {\r\n            var focused  = this.focused || this.selectedDates[this.selectedDates.length - 1],\r\n                d = this.parsedDate;\r\n\r\n            if (!focused) {\r\n                switch (this.view) {\r\n                    case 'days':\r\n                        focused = new Date(d.year, d.month, new Date().getDate());\r\n                        break;\r\n                    case 'months':\r\n                        focused = new Date(d.year, d.month, 1);\r\n                        break;\r\n                    case 'years':\r\n                        focused = new Date(d.year, 0, 1);\r\n                        break;\r\n                }\r\n            }\r\n\r\n            return focused;\r\n        },\r\n\r\n        _getCell: function (date, type) {\r\n            type = type || this.cellType;\r\n\r\n            var d = datepicker.getParsedDate(date),\r\n                selector = '.datepicker--cell[data-year=\"' + d.year + '\"]',\r\n                $cell;\r\n\r\n            switch (type) {\r\n                case 'month':\r\n                    selector = '[data-month=\"' + d.month + '\"]';\r\n                    break;\r\n                case 'day':\r\n                    selector += '[data-month=\"' + d.month + '\"][data-date=\"' + d.date + '\"]';\r\n                    break;\r\n            }\r\n            $cell = this.views[this.currentView].$el.find(selector);\r\n\r\n            return $cell.length ? $cell : $('');\r\n        },\r\n\r\n        destroy: function () {\r\n            var _this = this;\r\n            _this.$el\r\n                .off('.adp')\r\n                .data('datepicker', '');\r\n\r\n            _this.selectedDates = [];\r\n            _this.focused = '';\r\n            _this.views = {};\r\n            _this.keys = [];\r\n            _this.minRange = '';\r\n            _this.maxRange = '';\r\n\r\n            if (_this.opts.inline || !_this.elIsInput) {\r\n                _this.$datepicker.closest('.datepicker-inline').remove();\r\n            } else {\r\n                _this.$datepicker.remove();\r\n            }\r\n        },\r\n\r\n        _handleAlreadySelectedDates: function (alreadySelected, selectedDate) {\r\n            if (this.opts.range) {\r\n                if (!this.opts.toggleSelected) {\r\n                    // Add possibility to select same date when range is true\r\n                    if (this.selectedDates.length != 2) {\r\n                        this._trigger('clickCell', selectedDate);\r\n                    }\r\n                } else {\r\n                    this.removeDate(selectedDate);\r\n                }\r\n            } else if (this.opts.toggleSelected){\r\n                this.removeDate(selectedDate);\r\n            }\r\n\r\n            // Change last selected date to be able to change time when clicking on this cell\r\n            if (!this.opts.toggleSelected) {\r\n                this.lastSelectedDate = alreadySelected;\r\n                if (this.opts.timepicker) {\r\n                    this.timepicker._setTime(alreadySelected);\r\n                    this.timepicker.update();\r\n                }\r\n            }\r\n        },\r\n\r\n        _onShowEvent: function (e) {\r\n            if (!this.visible) {\r\n                this.show();\r\n            }\r\n        },\r\n\r\n        _onBlur: function () {\r\n            if (!this.inFocus && this.visible) {\r\n                this.hide();\r\n            }\r\n        },\r\n\r\n        _onMouseDownDatepicker: function (e) {\r\n            this.inFocus = true;\r\n        },\r\n\r\n        _onMouseUpDatepicker: function (e) {\r\n            this.inFocus = false;\r\n            e.originalEvent.inFocus = true;\r\n            if (!e.originalEvent.timepickerFocus) this.$el.focus();\r\n        },\r\n\r\n        _onKeyUpGeneral: function (e) {\r\n            var val = this.$el.val();\r\n\r\n            if (!val) {\r\n                this.clear();\r\n            }\r\n        },\r\n\r\n        _onResize: function () {\r\n            if (this.visible) {\r\n                this.setPosition();\r\n            }\r\n        },\r\n\r\n        _onMouseUpBody: function (e) {\r\n            if (e.originalEvent.inFocus) return;\r\n\r\n            if (this.visible && !this.inFocus) {\r\n                this.hide();\r\n            }\r\n        },\r\n\r\n        _onMouseUpEl: function (e) {\r\n            e.originalEvent.inFocus = true;\r\n            setTimeout(this._onKeyUpGeneral.bind(this),4);\r\n        },\r\n\r\n        _onKeyDown: function (e) {\r\n            var code = e.which;\r\n            this._registerKey(code);\r\n\r\n            // Arrows\r\n            if (code >= 37 && code <= 40) {\r\n                e.preventDefault();\r\n                this._focusNextCell(code);\r\n            }\r\n\r\n            // Enter\r\n            if (code == 13) {\r\n                if (this.focused) {\r\n                    if (this._getCell(this.focused).hasClass('-disabled-')) return;\r\n                    if (this.view != this.opts.minView) {\r\n                        this.down()\r\n                    } else {\r\n                        var alreadySelected = this._isSelected(this.focused, this.cellType);\r\n\r\n                        if (!alreadySelected) {\r\n                            if (this.timepicker) {\r\n                                this.focused.setHours(this.timepicker.hours);\r\n                                this.focused.setMinutes(this.timepicker.minutes);\r\n                            }\r\n                            this.selectDate(this.focused);\r\n                            return;\r\n                        }\r\n                        this._handleAlreadySelectedDates(alreadySelected, this.focused)\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Esc\r\n            if (code == 27) {\r\n                this.hide();\r\n            }\r\n        },\r\n\r\n        _onKeyUp: function (e) {\r\n            var code = e.which;\r\n            this._unRegisterKey(code);\r\n        },\r\n\r\n        _onHotKey: function (e, hotKey) {\r\n            this._handleHotKey(hotKey);\r\n        },\r\n\r\n        _onMouseEnterCell: function (e) {\r\n            var $cell = $(e.target).closest('.datepicker--cell'),\r\n                date = this._getDateFromCell($cell);\r\n\r\n            // Prevent from unnecessary rendering and setting new currentDate\r\n            this.silent = true;\r\n\r\n            if (this.focused) {\r\n                this.focused = ''\r\n            }\r\n\r\n            $cell.addClass('-focus-');\r\n\r\n            this.focused = date;\r\n            this.silent = false;\r\n\r\n            if (this.opts.range && this.selectedDates.length == 1) {\r\n                this.minRange = this.selectedDates[0];\r\n                this.maxRange = '';\r\n                if (datepicker.less(this.minRange, this.focused)) {\r\n                    this.maxRange = this.minRange;\r\n                    this.minRange = '';\r\n                }\r\n                this.views[this.currentView]._update();\r\n            }\r\n        },\r\n\r\n        _onMouseLeaveCell: function (e) {\r\n            var $cell = $(e.target).closest('.datepicker--cell');\r\n\r\n            $cell.removeClass('-focus-');\r\n\r\n            this.silent = true;\r\n            this.focused = '';\r\n            this.silent = false;\r\n        },\r\n\r\n        _onTimeChange: function (e, h, m) {\r\n            var date = new Date(),\r\n                selectedDates = this.selectedDates,\r\n                selected = false;\r\n\r\n            if (selectedDates.length) {\r\n                selected = true;\r\n                date = this.lastSelectedDate;\r\n            }\r\n\r\n            date.setHours(h);\r\n            date.setMinutes(m);\r\n\r\n            if (!selected && !this._getCell(date).hasClass('-disabled-')) {\r\n                this.selectDate(date);\r\n            } else {\r\n                this._setInputValue();\r\n                if (this.opts.onSelect) {\r\n                    this._triggerOnChange();\r\n                }\r\n            }\r\n        },\r\n\r\n        _onClickCell: function (e, date) {\r\n            if (this.timepicker) {\r\n                date.setHours(this.timepicker.hours);\r\n                date.setMinutes(this.timepicker.minutes);\r\n            }\r\n            this.selectDate(date);\r\n        },\r\n\r\n        set focused(val) {\r\n            if (!val && this.focused) {\r\n                var $cell = this._getCell(this.focused);\r\n\r\n                if ($cell.length) {\r\n                    $cell.removeClass('-focus-')\r\n                }\r\n            }\r\n            this._focused = val;\r\n            if (this.opts.range && this.selectedDates.length == 1) {\r\n                this.minRange = this.selectedDates[0];\r\n                this.maxRange = '';\r\n                if (datepicker.less(this.minRange, this._focused)) {\r\n                    this.maxRange = this.minRange;\r\n                    this.minRange = '';\r\n                }\r\n            }\r\n            if (this.silent) return;\r\n            this.date = val;\r\n        },\r\n\r\n        get focused() {\r\n            return this._focused;\r\n        },\r\n\r\n        get parsedDate() {\r\n            return datepicker.getParsedDate(this.date);\r\n        },\r\n\r\n        set date (val) {\r\n            if (!(val instanceof Date)) return;\r\n\r\n            this.currentDate = val;\r\n\r\n            if (this.inited && !this.silent) {\r\n                this.views[this.view]._render();\r\n                this.nav._render();\r\n                if (this.visible && this.elIsInput) {\r\n                    this.setPosition();\r\n                }\r\n            }\r\n            return val;\r\n        },\r\n\r\n        get date () {\r\n            return this.currentDate\r\n        },\r\n\r\n        set view (val) {\r\n            this.viewIndex = this.viewIndexes.indexOf(val);\r\n\r\n            if (this.viewIndex < 0) {\r\n                return;\r\n            }\r\n\r\n            this.prevView = this.currentView;\r\n            this.currentView = val;\r\n\r\n            if (this.inited) {\r\n                if (!this.views[val]) {\r\n                    this.views[val] = new  $.fn.datepicker.Body(this, val, this.opts)\r\n                } else {\r\n                    this.views[val]._render();\r\n                }\r\n\r\n                this.views[this.prevView].hide();\r\n                this.views[val].show();\r\n                this.nav._render();\r\n\r\n                if (this.opts.onChangeView) {\r\n                    this.opts.onChangeView(val)\r\n                }\r\n                if (this.elIsInput && this.visible) this.setPosition();\r\n            }\r\n\r\n            return val\r\n        },\r\n\r\n        get view() {\r\n            return this.currentView;\r\n        },\r\n\r\n        get cellType() {\r\n            return this.view.substring(0, this.view.length - 1)\r\n        },\r\n\r\n        get minTime() {\r\n            var min = datepicker.getParsedDate(this.minDate);\r\n            return new Date(min.year, min.month, min.date).getTime()\r\n        },\r\n\r\n        get maxTime() {\r\n            var max = datepicker.getParsedDate(this.maxDate);\r\n            return new Date(max.year, max.month, max.date).getTime()\r\n        },\r\n\r\n        get curDecade() {\r\n            return datepicker.getDecade(this.date)\r\n        }\r\n    };\r\n\r\n    //  Utils\r\n    // -------------------------------------------------\r\n\r\n    datepicker.getDaysCount = function (date) {\r\n        return new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();\r\n    };\r\n\r\n    datepicker.getParsedDate = function (date) {\r\n        return {\r\n            year: date.getFullYear(),\r\n            month: date.getMonth(),\r\n            fullMonth: (date.getMonth() + 1) < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1, // One based\r\n            date: date.getDate(),\r\n            fullDate: date.getDate() < 10 ? '0' + date.getDate() : date.getDate(),\r\n            day: date.getDay(),\r\n            hours: date.getHours(),\r\n            fullHours:  date.getHours() < 10 ? '0' + date.getHours() :  date.getHours() ,\r\n            minutes: date.getMinutes(),\r\n            fullMinutes:  date.getMinutes() < 10 ? '0' + date.getMinutes() :  date.getMinutes()\r\n        }\r\n    };\r\n\r\n    datepicker.getDecade = function (date) {\r\n        var firstYear = Math.floor(date.getFullYear() / 10) * 10;\r\n\r\n        return [firstYear, firstYear + 9];\r\n    };\r\n\r\n    datepicker.template = function (str, data) {\r\n        return str.replace(/#\\{([\\w]+)\\}/g, function (source, match) {\r\n            if (data[match] || data[match] === 0) {\r\n                return data[match]\r\n            }\r\n        });\r\n    };\r\n\r\n    datepicker.isSame = function (date1, date2, type) {\r\n        if (!date1 || !date2) return false;\r\n        var d1 = datepicker.getParsedDate(date1),\r\n            d2 = datepicker.getParsedDate(date2),\r\n            _type = type ? type : 'day',\r\n\r\n            conditions = {\r\n                day: d1.date == d2.date && d1.month == d2.month && d1.year == d2.year,\r\n                month: d1.month == d2.month && d1.year == d2.year,\r\n                year: d1.year == d2.year\r\n            };\r\n\r\n        return conditions[_type];\r\n    };\r\n\r\n    datepicker.less = function (dateCompareTo, date, type) {\r\n        if (!dateCompareTo || !date) return false;\r\n        return date.getTime() < dateCompareTo.getTime();\r\n    };\r\n\r\n    datepicker.bigger = function (dateCompareTo, date, type) {\r\n        if (!dateCompareTo || !date) return false;\r\n        return date.getTime() > dateCompareTo.getTime();\r\n    };\r\n\r\n    datepicker.getLeadingZeroNum = function (num) {\r\n        return parseInt(num) < 10 ? '0' + num : num;\r\n    };\r\n\r\n    /**\r\n     * Returns copy of date with hours and minutes equals to 0\r\n     * @param date {Date}\r\n     */\r\n    datepicker.resetTime = function (date) {\r\n        if (typeof date != 'object') return;\r\n        date = datepicker.getParsedDate(date);\r\n        return new Date(date.year, date.month, date.date)\r\n    };\r\n\r\n    $.fn.datepicker = function ( options ) {\r\n        return this.each(function () {\r\n            if (!$.data(this, pluginName)) {\r\n                $.data(this,  pluginName,\r\n                    new Datepicker( this, options ));\r\n            } else {\r\n                var _this = $.data(this, pluginName);\r\n\r\n                _this.opts = $.extend(true, _this.opts, options);\r\n                _this.update();\r\n            }\r\n        });\r\n    };\r\n\r\n    $.fn.datepicker.Constructor = Datepicker;\r\n\r\n    $.fn.datepicker.language = {\r\n        ru: {\r\n            days: ['Воскресенье', 'Понедельник', 'Вторник', 'Среда', 'Четверг', 'Пятница', 'Суббота'],\r\n            daysShort: ['Вос','Пон','Вто','Сре','Чет','Пят','Суб'],\r\n            daysMin: ['Вс','Пн','Вт','Ср','Чт','Пт','Сб'],\r\n            months: ['Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь', 'Июль', 'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь'],\r\n            monthsShort: ['Янв', 'Фев', 'Мар', 'Апр', 'Май', 'Июн', 'Июл', 'Авг', 'Сен', 'Окт', 'Ноя', 'Дек'],\r\n            today: 'Сегодня',\r\n            clear: 'Очистить',\r\n            dateFormat: 'dd.mm.yyyy',\r\n            timeFormat: 'hh:ii',\r\n            firstDay: 1\r\n        }\r\n    };\r\n\r\n    $(function () {\r\n        $(autoInitSelector).datepicker();\r\n    })\r\n\r\n})();\r\n\n;(function () {\r\n    var templates = {\r\n        days:'' +\r\n        '<div class=\"datepicker--days datepicker--body\">' +\r\n        '<div class=\"datepicker--days-names\"></div>' +\r\n        '<div class=\"datepicker--cells datepicker--cells-days\"></div>' +\r\n        '</div>',\r\n        months: '' +\r\n        '<div class=\"datepicker--months datepicker--body\">' +\r\n        '<div class=\"datepicker--cells datepicker--cells-months\"></div>' +\r\n        '</div>',\r\n        years: '' +\r\n        '<div class=\"datepicker--years datepicker--body\">' +\r\n        '<div class=\"datepicker--cells datepicker--cells-years\"></div>' +\r\n        '</div>'\r\n        },\r\n        datepicker = $.fn.datepicker,\r\n        dp = datepicker.Constructor;\r\n\r\n    datepicker.Body = function (d, type, opts) {\r\n        this.d = d;\r\n        this.type = type;\r\n        this.opts = opts;\r\n        this.$el = $('');\r\n\r\n        if (this.opts.onlyTimepicker) return;\r\n        this.init();\r\n    };\r\n\r\n    datepicker.Body.prototype = {\r\n        init: function () {\r\n            this._buildBaseHtml();\r\n            this._render();\r\n\r\n            this._bindEvents();\r\n        },\r\n\r\n        _bindEvents: function () {\r\n            this.$el.on('click', '.datepicker--cell', $.proxy(this._onClickCell, this));\r\n        },\r\n\r\n        _buildBaseHtml: function () {\r\n            this.$el = $(templates[this.type]).appendTo(this.d.$content);\r\n            this.$names = $('.datepicker--days-names', this.$el);\r\n            this.$cells = $('.datepicker--cells', this.$el);\r\n        },\r\n\r\n        _getDayNamesHtml: function (firstDay, curDay, html, i) {\r\n            curDay = curDay != undefined ? curDay : firstDay;\r\n            html = html ? html : '';\r\n            i = i != undefined ? i : 0;\r\n\r\n            if (i > 7) return html;\r\n            if (curDay == 7) return this._getDayNamesHtml(firstDay, 0, html, ++i);\r\n\r\n            html += '<div class=\"datepicker--day-name' + (this.d.isWeekend(curDay) ? \" -weekend-\" : \"\") + '\">' + this.d.loc.daysMin[curDay] + '</div>';\r\n\r\n            return this._getDayNamesHtml(firstDay, ++curDay, html, ++i);\r\n        },\r\n\r\n        _getCellContents: function (date, type) {\r\n            var classes = \"datepicker--cell datepicker--cell-\" + type,\r\n                currentDate = new Date(),\r\n                parent = this.d,\r\n                minRange = dp.resetTime(parent.minRange),\r\n                maxRange = dp.resetTime(parent.maxRange),\r\n                opts = parent.opts,\r\n                d = dp.getParsedDate(date),\r\n                render = {},\r\n                html = d.date;\r\n\r\n            switch (type) {\r\n                case 'day':\r\n                    if (parent.isWeekend(d.day)) classes += \" -weekend-\";\r\n                    if (d.month != this.d.parsedDate.month) {\r\n                        classes += \" -other-month-\";\r\n                        if (!opts.selectOtherMonths) {\r\n                            classes += \" -disabled-\";\r\n                        }\r\n                        if (!opts.showOtherMonths) html = '';\r\n                    }\r\n                    break;\r\n                case 'month':\r\n                    html = parent.loc[parent.opts.monthsField][d.month];\r\n                    break;\r\n                case 'year':\r\n                    var decade = parent.curDecade;\r\n                    html = d.year;\r\n                    if (d.year < decade[0] || d.year > decade[1]) {\r\n                        classes += ' -other-decade-';\r\n                        if (!opts.selectOtherYears) {\r\n                            classes += \" -disabled-\";\r\n                        }\r\n                        if (!opts.showOtherYears) html = '';\r\n                    }\r\n                    break;\r\n            }\r\n\r\n            if (opts.onRenderCell) {\r\n                render = opts.onRenderCell(date, type) || {};\r\n                html = render.html ? render.html : html;\r\n                classes += render.classes ? ' ' + render.classes : '';\r\n            }\r\n\r\n            if (opts.range) {\r\n                if (dp.isSame(minRange, date, type)) classes += ' -range-from-';\r\n                if (dp.isSame(maxRange, date, type)) classes += ' -range-to-';\r\n\r\n                if (parent.selectedDates.length == 1 && parent.focused) {\r\n                    if (\r\n                        (dp.bigger(minRange, date) && dp.less(parent.focused, date)) ||\r\n                        (dp.less(maxRange, date) && dp.bigger(parent.focused, date)))\r\n                    {\r\n                        classes += ' -in-range-'\r\n                    }\r\n\r\n                    if (dp.less(maxRange, date) && dp.isSame(parent.focused, date)) {\r\n                        classes += ' -range-from-'\r\n                    }\r\n                    if (dp.bigger(minRange, date) && dp.isSame(parent.focused, date)) {\r\n                        classes += ' -range-to-'\r\n                    }\r\n\r\n                } else if (parent.selectedDates.length == 2) {\r\n                    if (dp.bigger(minRange, date) && dp.less(maxRange, date)) {\r\n                        classes += ' -in-range-'\r\n                    }\r\n                }\r\n            }\r\n\r\n\r\n            if (dp.isSame(currentDate, date, type)) classes += ' -current-';\r\n            if (parent.focused && dp.isSame(date, parent.focused, type)) classes += ' -focus-';\r\n            if (parent._isSelected(date, type)) classes += ' -selected-';\r\n            if (!parent._isInRange(date, type) || render.disabled) classes += ' -disabled-';\r\n\r\n            return {\r\n                html: html,\r\n                classes: classes\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Calculates days number to render. Generates days html and returns it.\r\n         * @param {object} date - Date object\r\n         * @returns {string}\r\n         * @private\r\n         */\r\n        _getDaysHtml: function (date) {\r\n            var totalMonthDays = dp.getDaysCount(date),\r\n                firstMonthDay = new Date(date.getFullYear(), date.getMonth(), 1).getDay(),\r\n                lastMonthDay = new Date(date.getFullYear(), date.getMonth(), totalMonthDays).getDay(),\r\n                daysFromPevMonth = firstMonthDay - this.d.loc.firstDay,\r\n                daysFromNextMonth = 6 - lastMonthDay + this.d.loc.firstDay;\r\n\r\n            daysFromPevMonth = daysFromPevMonth < 0 ? daysFromPevMonth + 7 : daysFromPevMonth;\r\n            daysFromNextMonth = daysFromNextMonth > 6 ? daysFromNextMonth - 7 : daysFromNextMonth;\r\n\r\n            var startDayIndex = -daysFromPevMonth + 1,\r\n                m, y,\r\n                html = '';\r\n\r\n            for (var i = startDayIndex, max = totalMonthDays + daysFromNextMonth; i <= max; i++) {\r\n                y = date.getFullYear();\r\n                m = date.getMonth();\r\n\r\n                html += this._getDayHtml(new Date(y, m, i))\r\n            }\r\n\r\n            return html;\r\n        },\r\n\r\n        _getDayHtml: function (date) {\r\n           var content = this._getCellContents(date, 'day');\r\n\r\n            return '<div class=\"' + content.classes + '\" ' +\r\n                'data-date=\"' + date.getDate() + '\" ' +\r\n                'data-month=\"' + date.getMonth() + '\" ' +\r\n                'data-year=\"' + date.getFullYear() + '\">' + content.html + '</div>';\r\n        },\r\n\r\n        /**\r\n         * Generates months html\r\n         * @param {object} date - date instance\r\n         * @returns {string}\r\n         * @private\r\n         */\r\n        _getMonthsHtml: function (date) {\r\n            var html = '',\r\n                d = dp.getParsedDate(date),\r\n                i = 0;\r\n\r\n            while(i < 12) {\r\n                html += this._getMonthHtml(new Date(d.year, i));\r\n                i++\r\n            }\r\n\r\n            return html;\r\n        },\r\n\r\n        _getMonthHtml: function (date) {\r\n            var content = this._getCellContents(date, 'month');\r\n\r\n            return '<div class=\"' + content.classes + '\" data-month=\"' + date.getMonth() + '\">' + content.html + '</div>'\r\n        },\r\n\r\n        _getYearsHtml: function (date) {\r\n            var d = dp.getParsedDate(date),\r\n                decade = dp.getDecade(date),\r\n                firstYear = decade[0] - 1,\r\n                html = '',\r\n                i = firstYear;\r\n\r\n            for (i; i <= decade[1] + 1; i++) {\r\n                html += this._getYearHtml(new Date(i , 0));\r\n            }\r\n\r\n            return html;\r\n        },\r\n\r\n        _getYearHtml: function (date) {\r\n            var content = this._getCellContents(date, 'year');\r\n\r\n            return '<div class=\"' + content.classes + '\" data-year=\"' + date.getFullYear() + '\">' + content.html + '</div>'\r\n        },\r\n\r\n        _renderTypes: {\r\n            days: function () {\r\n                var dayNames = this._getDayNamesHtml(this.d.loc.firstDay),\r\n                    days = this._getDaysHtml(this.d.currentDate);\r\n\r\n                this.$cells.html(days);\r\n                this.$names.html(dayNames)\r\n            },\r\n            months: function () {\r\n                var html = this._getMonthsHtml(this.d.currentDate);\r\n\r\n                this.$cells.html(html)\r\n            },\r\n            years: function () {\r\n                var html = this._getYearsHtml(this.d.currentDate);\r\n\r\n                this.$cells.html(html)\r\n            }\r\n        },\r\n\r\n        _render: function () {\r\n            if (this.opts.onlyTimepicker) return;\r\n            this._renderTypes[this.type].bind(this)();\r\n        },\r\n\r\n        _update: function () {\r\n            var $cells = $('.datepicker--cell', this.$cells),\r\n                _this = this,\r\n                classes,\r\n                $cell,\r\n                date;\r\n            $cells.each(function (cell, i) {\r\n                $cell = $(this);\r\n                date = _this.d._getDateFromCell($(this));\r\n                classes = _this._getCellContents(date, _this.d.cellType);\r\n                $cell.attr('class',classes.classes)\r\n            });\r\n        },\r\n\r\n        show: function () {\r\n            if (this.opts.onlyTimepicker) return;\r\n            this.$el.addClass('active');\r\n            this.acitve = true;\r\n        },\r\n\r\n        hide: function () {\r\n            this.$el.removeClass('active');\r\n            this.active = false;\r\n        },\r\n\r\n        //  Events\r\n        // -------------------------------------------------\r\n\r\n        _handleClick: function (el) {\r\n            var date = el.data('date') || 1,\r\n                month = el.data('month') || 0,\r\n                year = el.data('year') || this.d.parsedDate.year,\r\n                dp = this.d;\r\n            // Change view if min view does not reach yet\r\n            if (dp.view != this.opts.minView) {\r\n                dp.down(new Date(year, month, date));\r\n                return;\r\n            }\r\n            // Select date if min view is reached\r\n            var selectedDate = new Date(year, month, date),\r\n                alreadySelected = this.d._isSelected(selectedDate, this.d.cellType);\r\n\r\n            if (!alreadySelected) {\r\n                dp._trigger('clickCell', selectedDate);\r\n                return;\r\n            }\r\n\r\n            dp._handleAlreadySelectedDates.bind(dp, alreadySelected, selectedDate)();\r\n\r\n        },\r\n\r\n        _onClickCell: function (e) {\r\n            var $el = $(e.target).closest('.datepicker--cell');\r\n\r\n            if ($el.hasClass('-disabled-')) return;\r\n\r\n            this._handleClick.bind(this)($el);\r\n        }\r\n    };\r\n})();\r\n\n;(function () {\r\n    var template = '' +\r\n        '<div class=\"datepicker--nav-action\" data-action=\"prev\">#{prevHtml}</div>' +\r\n        '<div class=\"datepicker--nav-title\">#{title}</div>' +\r\n        '<div class=\"datepicker--nav-action\" data-action=\"next\">#{nextHtml}</div>',\r\n        buttonsContainerTemplate = '<div class=\"datepicker--buttons\"></div>',\r\n        button = '<span class=\"datepicker--button\" data-action=\"#{action}\">#{label}</span>',\r\n        datepicker = $.fn.datepicker,\r\n        dp = datepicker.Constructor;\r\n\r\n    datepicker.Navigation = function (d, opts) {\r\n        this.d = d;\r\n        this.opts = opts;\r\n\r\n        this.$buttonsContainer = '';\r\n\r\n        this.init();\r\n    };\r\n\r\n    datepicker.Navigation.prototype = {\r\n        init: function () {\r\n            this._buildBaseHtml();\r\n            this._bindEvents();\r\n        },\r\n\r\n        _bindEvents: function () {\r\n            this.d.$nav.on('click', '.datepicker--nav-action', $.proxy(this._onClickNavButton, this));\r\n            this.d.$nav.on('click', '.datepicker--nav-title', $.proxy(this._onClickNavTitle, this));\r\n            this.d.$datepicker.on('click', '.datepicker--button', $.proxy(this._onClickNavButton, this));\r\n        },\r\n\r\n        _buildBaseHtml: function () {\r\n            if (!this.opts.onlyTimepicker) {\r\n                this._render();\r\n            }\r\n            this._addButtonsIfNeed();\r\n        },\r\n\r\n        _addButtonsIfNeed: function () {\r\n            if (this.opts.todayButton) {\r\n                this._addButton('today')\r\n            }\r\n            if (this.opts.clearButton) {\r\n                this._addButton('clear')\r\n            }\r\n        },\r\n\r\n        _render: function () {\r\n            var title = this._getTitle(this.d.currentDate),\r\n                html = dp.template(template, $.extend({title: title}, this.opts));\r\n            this.d.$nav.html(html);\r\n            if (this.d.view == 'years') {\r\n                $('.datepicker--nav-title', this.d.$nav).addClass('-disabled-');\r\n            }\r\n            this.setNavStatus();\r\n        },\r\n\r\n        _getTitle: function (date) {\r\n            return this.d.formatDate(this.opts.navTitles[this.d.view], date)\r\n        },\r\n\r\n        _addButton: function (type) {\r\n            if (!this.$buttonsContainer.length) {\r\n                this._addButtonsContainer();\r\n            }\r\n\r\n            var data = {\r\n                    action: type,\r\n                    label: this.d.loc[type]\r\n                },\r\n                html = dp.template(button, data);\r\n\r\n            if ($('[data-action=' + type + ']', this.$buttonsContainer).length) return;\r\n            this.$buttonsContainer.append(html);\r\n        },\r\n\r\n        _addButtonsContainer: function () {\r\n            this.d.$datepicker.append(buttonsContainerTemplate);\r\n            this.$buttonsContainer = $('.datepicker--buttons', this.d.$datepicker);\r\n        },\r\n\r\n        setNavStatus: function () {\r\n            if (!(this.opts.minDate || this.opts.maxDate) || !this.opts.disableNavWhenOutOfRange) return;\r\n\r\n            var date = this.d.parsedDate,\r\n                m = date.month,\r\n                y = date.year,\r\n                d = date.date;\r\n\r\n            switch (this.d.view) {\r\n                case 'days':\r\n                    if (!this.d._isInRange(new Date(y, m-1, 1), 'month')) {\r\n                        this._disableNav('prev')\r\n                    }\r\n                    if (!this.d._isInRange(new Date(y, m+1, 1), 'month')) {\r\n                        this._disableNav('next')\r\n                    }\r\n                    break;\r\n                case 'months':\r\n                    if (!this.d._isInRange(new Date(y-1, m, d), 'year')) {\r\n                        this._disableNav('prev')\r\n                    }\r\n                    if (!this.d._isInRange(new Date(y+1, m, d), 'year')) {\r\n                        this._disableNav('next')\r\n                    }\r\n                    break;\r\n                case 'years':\r\n                    var decade = dp.getDecade(this.d.date);\r\n                    if (!this.d._isInRange(new Date(decade[0] - 1, 0, 1), 'year')) {\r\n                        this._disableNav('prev')\r\n                    }\r\n                    if (!this.d._isInRange(new Date(decade[1] + 1, 0, 1), 'year')) {\r\n                        this._disableNav('next')\r\n                    }\r\n                    break;\r\n            }\r\n        },\r\n\r\n        _disableNav: function (nav) {\r\n            $('[data-action=\"' + nav + '\"]', this.d.$nav).addClass('-disabled-')\r\n        },\r\n\r\n        _activateNav: function (nav) {\r\n            $('[data-action=\"' + nav + '\"]', this.d.$nav).removeClass('-disabled-')\r\n        },\r\n\r\n        _onClickNavButton: function (e) {\r\n            var $el = $(e.target).closest('[data-action]'),\r\n                action = $el.data('action');\r\n\r\n            this.d[action]();\r\n        },\r\n\r\n        _onClickNavTitle: function (e) {\r\n            if ($(e.target).hasClass('-disabled-')) return;\r\n\r\n            if (this.d.view == 'days') {\r\n                return this.d.view = 'months'\r\n            }\r\n\r\n            this.d.view = 'years';\r\n        }\r\n    }\r\n\r\n})();\r\n\n;(function () {\r\n    var template = '<div class=\"datepicker--time\">' +\r\n        '<div class=\"datepicker--time-current\">' +\r\n        '   <span class=\"datepicker--time-current-hours\">#{hourVisible}</span>' +\r\n        '   <span class=\"datepicker--time-current-colon\">:</span>' +\r\n        '   <span class=\"datepicker--time-current-minutes\">#{minValue}</span>' +\r\n        '</div>' +\r\n        '<div class=\"datepicker--time-sliders\">' +\r\n        '   <div class=\"datepicker--time-row\">' +\r\n        '      <input type=\"range\" name=\"hours\" value=\"#{hourValue}\" min=\"#{hourMin}\" max=\"#{hourMax}\" step=\"#{hourStep}\"/>' +\r\n        '   </div>' +\r\n        '   <div class=\"datepicker--time-row\">' +\r\n        '      <input type=\"range\" name=\"minutes\" value=\"#{minValue}\" min=\"#{minMin}\" max=\"#{minMax}\" step=\"#{minStep}\"/>' +\r\n        '   </div>' +\r\n        '</div>' +\r\n        '</div>',\r\n        datepicker = $.fn.datepicker,\r\n        dp = datepicker.Constructor;\r\n\r\n    datepicker.Timepicker = function (inst, opts) {\r\n        this.d = inst;\r\n        this.opts = opts;\r\n\r\n        this.init();\r\n    };\r\n\r\n    datepicker.Timepicker.prototype = {\r\n        init: function () {\r\n            var input = 'input';\r\n            this._setTime(this.d.date);\r\n            this._buildHTML();\r\n\r\n            if (navigator.userAgent.match(/trident/gi)) {\r\n                input = 'change';\r\n            }\r\n\r\n            this.d.$el.on('selectDate', this._onSelectDate.bind(this));\r\n            this.$ranges.on(input, this._onChangeRange.bind(this));\r\n            this.$ranges.on('mouseup', this._onMouseUpRange.bind(this));\r\n            this.$ranges.on('mousemove focus ', this._onMouseEnterRange.bind(this));\r\n            this.$ranges.on('mouseout blur', this._onMouseOutRange.bind(this));\r\n        },\r\n\r\n        _setTime: function (date) {\r\n            var _date = dp.getParsedDate(date);\r\n\r\n            this._handleDate(date);\r\n            this.hours = _date.hours < this.minHours ? this.minHours : _date.hours;\r\n            this.minutes = _date.minutes < this.minMinutes ? this.minMinutes : _date.minutes;\r\n        },\r\n\r\n        /**\r\n         * Sets minHours and minMinutes from date (usually it's a minDate)\r\n         * Also changes minMinutes if current hours are bigger then @date hours\r\n         * @param date {Date}\r\n         * @private\r\n         */\r\n        _setMinTimeFromDate: function (date) {\r\n            this.minHours = date.getHours();\r\n            this.minMinutes = date.getMinutes();\r\n\r\n            // If, for example, min hours are 10, and current hours are 12,\r\n            // update minMinutes to default value, to be able to choose whole range of values\r\n            if (this.d.lastSelectedDate) {\r\n                if (this.d.lastSelectedDate.getHours() > date.getHours()) {\r\n                    this.minMinutes = this.opts.minMinutes;\r\n                }\r\n            }\r\n        },\r\n\r\n        _setMaxTimeFromDate: function (date) {\r\n            this.maxHours = date.getHours();\r\n            this.maxMinutes = date.getMinutes();\r\n\r\n            if (this.d.lastSelectedDate) {\r\n                if (this.d.lastSelectedDate.getHours() < date.getHours()) {\r\n                    this.maxMinutes = this.opts.maxMinutes;\r\n                }\r\n            }\r\n        },\r\n\r\n        _setDefaultMinMaxTime: function () {\r\n            var maxHours = 23,\r\n                maxMinutes = 59,\r\n                opts = this.opts;\r\n\r\n            this.minHours = opts.minHours < 0 || opts.minHours > maxHours ? 0 : opts.minHours;\r\n            this.minMinutes = opts.minMinutes < 0 || opts.minMinutes > maxMinutes ? 0 : opts.minMinutes;\r\n            this.maxHours = opts.maxHours < 0 || opts.maxHours > maxHours ? maxHours : opts.maxHours;\r\n            this.maxMinutes = opts.maxMinutes < 0 || opts.maxMinutes > maxMinutes ? maxMinutes : opts.maxMinutes;\r\n        },\r\n\r\n        /**\r\n         * Looks for min/max hours/minutes and if current values\r\n         * are out of range sets valid values.\r\n         * @private\r\n         */\r\n        _validateHoursMinutes: function (date) {\r\n            if (this.hours < this.minHours) {\r\n                this.hours = this.minHours;\r\n            } else if (this.hours > this.maxHours) {\r\n                this.hours = this.maxHours;\r\n            }\r\n\r\n            if (this.minutes < this.minMinutes) {\r\n                this.minutes = this.minMinutes;\r\n            } else if (this.minutes > this.maxMinutes) {\r\n                this.minutes = this.maxMinutes;\r\n            }\r\n        },\r\n\r\n        _buildHTML: function () {\r\n            var lz = dp.getLeadingZeroNum,\r\n                data = {\r\n                    hourMin: this.minHours,\r\n                    hourMax: lz(this.maxHours),\r\n                    hourStep: this.opts.hoursStep,\r\n                    hourValue: this.hours,\r\n                    hourVisible: lz(this.displayHours),\r\n                    minMin: this.minMinutes,\r\n                    minMax: lz(this.maxMinutes),\r\n                    minStep: this.opts.minutesStep,\r\n                    minValue: lz(this.minutes)\r\n                },\r\n                _template = dp.template(template, data);\r\n\r\n            this.$timepicker = $(_template).appendTo(this.d.$datepicker);\r\n            this.$ranges = $('[type=\"range\"]', this.$timepicker);\r\n            this.$hours = $('[name=\"hours\"]', this.$timepicker);\r\n            this.$minutes = $('[name=\"minutes\"]', this.$timepicker);\r\n            this.$hoursText = $('.datepicker--time-current-hours', this.$timepicker);\r\n            this.$minutesText = $('.datepicker--time-current-minutes', this.$timepicker);\r\n\r\n            if (this.d.ampm) {\r\n                this.$ampm = $('<span class=\"datepicker--time-current-ampm\">')\r\n                    .appendTo($('.datepicker--time-current', this.$timepicker))\r\n                    .html(this.dayPeriod);\r\n\r\n                this.$timepicker.addClass('-am-pm-');\r\n            }\r\n        },\r\n\r\n        _updateCurrentTime: function () {\r\n            var h =  dp.getLeadingZeroNum(this.displayHours),\r\n                m = dp.getLeadingZeroNum(this.minutes);\r\n\r\n            this.$hoursText.html(h);\r\n            this.$minutesText.html(m);\r\n\r\n            if (this.d.ampm) {\r\n                this.$ampm.html(this.dayPeriod);\r\n            }\r\n        },\r\n\r\n        _updateRanges: function () {\r\n            this.$hours.attr({\r\n                min: this.minHours,\r\n                max: this.maxHours\r\n            }).val(this.hours);\r\n\r\n            this.$minutes.attr({\r\n                min: this.minMinutes,\r\n                max: this.maxMinutes\r\n            }).val(this.minutes)\r\n        },\r\n\r\n        /**\r\n         * Sets minHours, minMinutes etc. from date. If date is not passed, than sets\r\n         * values from options\r\n         * @param [date] {object} - Date object, to get values from\r\n         * @private\r\n         */\r\n        _handleDate: function (date) {\r\n            this._setDefaultMinMaxTime();\r\n            if (date) {\r\n                if (dp.isSame(date, this.d.opts.minDate)) {\r\n                    this._setMinTimeFromDate(this.d.opts.minDate);\r\n                } else if (dp.isSame(date, this.d.opts.maxDate)) {\r\n                    this._setMaxTimeFromDate(this.d.opts.maxDate);\r\n                }\r\n            }\r\n\r\n            this._validateHoursMinutes(date);\r\n        },\r\n\r\n        update: function () {\r\n            this._updateRanges();\r\n            this._updateCurrentTime();\r\n        },\r\n\r\n        /**\r\n         * Calculates valid hour value to display in text input and datepicker's body.\r\n         * @param date {Date|Number} - date or hours\r\n         * @param [ampm] {Boolean} - 12 hours mode\r\n         * @returns {{hours: *, dayPeriod: string}}\r\n         * @private\r\n         */\r\n        _getValidHoursFromDate: function (date, ampm) {\r\n            var d = date,\r\n                hours = date;\r\n\r\n            if (date instanceof Date) {\r\n                d = dp.getParsedDate(date);\r\n                hours = d.hours;\r\n            }\r\n\r\n            var _ampm = ampm || this.d.ampm,\r\n                dayPeriod = 'am';\r\n\r\n            if (_ampm) {\r\n                switch(true) {\r\n                    case hours == 0:\r\n                        hours = 12;\r\n                        break;\r\n                    case hours == 12:\r\n                        dayPeriod = 'pm';\r\n                        break;\r\n                    case hours > 11:\r\n                        hours = hours - 12;\r\n                        dayPeriod = 'pm';\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n\r\n            return {\r\n                hours: hours,\r\n                dayPeriod: dayPeriod\r\n            }\r\n        },\r\n\r\n        set hours (val) {\r\n            this._hours = val;\r\n\r\n            var displayHours = this._getValidHoursFromDate(val);\r\n\r\n            this.displayHours = displayHours.hours;\r\n            this.dayPeriod = displayHours.dayPeriod;\r\n        },\r\n\r\n        get hours() {\r\n            return this._hours;\r\n        },\r\n\r\n        //  Events\r\n        // -------------------------------------------------\r\n\r\n        _onChangeRange: function (e) {\r\n            var $target = $(e.target),\r\n                name = $target.attr('name');\r\n            \r\n            this.d.timepickerIsActive = true;\r\n\r\n            this[name] = $target.val();\r\n            this._updateCurrentTime();\r\n            this.d._trigger('timeChange', [this.hours, this.minutes]);\r\n\r\n            this._handleDate(this.d.lastSelectedDate);\r\n            this.update()\r\n        },\r\n\r\n        _onSelectDate: function (e, data) {\r\n            this._handleDate(data);\r\n            this.update();\r\n        },\r\n\r\n        _onMouseEnterRange: function (e) {\r\n            var name = $(e.target).attr('name');\r\n            $('.datepicker--time-current-' + name, this.$timepicker).addClass('-focus-');\r\n        },\r\n\r\n        _onMouseOutRange: function (e) {\r\n            var name = $(e.target).attr('name');\r\n            if (this.d.inFocus) return; // Prevent removing focus when mouse out of range slider\r\n            $('.datepicker--time-current-' + name, this.$timepicker).removeClass('-focus-');\r\n        },\r\n\r\n        _onMouseUpRange: function (e) {\r\n            this.d.timepickerIsActive = false;\r\n        }\r\n    };\r\n})();\r\n })(window, jQuery);","\"use strict\";var applicationServerPublicKey=\"BGa5M248kds3Uw6AkR6igb3aq4OQw1zFmSBNuFj10kwdsqZ8DXoYtvLUPCMsUIpMKQiPzdOY-s-3mkVnPhRUiQg\",isSubscribed=!1,swRegistration=null,pageWidth=$(document).width(),pageHeight=$(document).height(),currentElement=void 0,intro=introJs(),move=0,shown=0,colors=[\"#FEC3BF\",\"#FFDDB9\",\"#A5D8F3\",\"#97EBED\",\"#FEC3BF\",\"#FFDDB9\",\"#A5D8F3\",\"#FEC3BF\",\"#FFDDB9\",\"#A5D8F3\"];function r(e){/in/.test(document.readyState)?setTimeout(\"r(\"+e+\")\",9):e()}function clearData(){$(\"#newDialog\").val(\"\"),$(\"#imeDialog\").val(\"\").parent().removeClass(\"is-dirty is-invalid\"),$(\"#opisDialog\").val(\"\").parent().removeClass(\"is-dirty is-invalid\"),$(\"#targetZacetek\").val(\"\").parent().removeClass(\"is-dirty is-invalid\"),$(\"#targetKonec\").val(\"\").parent().removeClass(\"is-dirty is-invalid\"),$(\"#oldStatus\").val(\"\"),$(\"#newStatus\").val(\"\"),$(\"#xpNaloge\").val(\"\").parent().removeClass(\"is-dirty is-invalid\"),$(\"#vezanCilj\").get(0).placeholder=\"\",$(\"#vezanCilj\").val(\"\"),$(\"input[name='sampleCilj']\").parent().removeClass(\"is-dirty is-invalid\").find(\"li\").removeAttr(\"data-selected\"),getmdlSelect.init(\"#dialogCilj\"),$(\"#kategorija\").get(0).placeholder=\"\",$(\"input[name='sampleKategorija']\").parent().removeClass(\"is-dirty is-invalid\").find(\"li\").attr(\"data-selected\",\"\"),getmdlSelect.init(\"#dialogKategorija\"),$(\"#statusNaloge\").get(0).placeholder=\"\",$(\"#statusNaloge\").parent().removeClass(\"is-dirty is-invalid\").find(\"li\").attr(\"data-selected\",\"\"),getmdlSelect.init(\"#dialogStatus\"),$(\"#listClani\").find(\"input[type='checkbox']\").parent().removeClass(\"is-checked\")}function fillNaloge(){$(\"#iDialog\").html(\"Ime naloge*\"),$(\"#oDialog\").html(\"Opis naloge*\"),$(\"#tZacetek\").html(\"Začetek naloge\"),$(\"#tKonec\").html(\"Konec naloge\"),$(\"#tockeName\").html(\"Vrednost naloge*\"),$(\"#ciljiVsi\").attr(\"style\",\"display: none!important\"),$(\"#dialogKategorija\").attr(\"style\",\"display: block!important\"),$(\"#dialogZacetek\").attr(\"style\",\"display: block!important\"),$(\"#dialogKonec\").attr(\"style\",\"display: block!important\"),$(\"#claniNaloge\").attr(\"style\",\"display: block!important\"),$(\"#dialogCilj\").attr(\"style\",\"display: block!important\"),$(\"#dialogStatus\").attr(\"style\",\"display: block!important\"),$(\"#ustvari\").attr(\"onclick\",\"validateNaloga(event, 0)\"),$(\"#closeBtn\").next().removeClass(\"color-cyan\").addClass(\"color-red\"),$(\"#dialog-hint\").attr(\"onclick\",\"helpNaloga()\")}function fillCilji(){$(\"#iDialog\").html(\"Ime cilja*\"),$(\"#oDialog\").html(\"Opis cilja*\"),$(\"#ciljiVsi\").attr(\"style\",\"display: block!important\"),$(\"#dialogKategorija\").attr(\"style\",\"display: none!important\"),$(\"#dialogZacetek\").attr(\"style\",\"display: none!important\"),$(\"#dialogKonec\").attr(\"style\",\"display: none!important\"),$(\"#claniNaloge\").attr(\"style\",\"display: none!important\"),$(\"#dialogCilj\").attr(\"style\",\"display: none!important\"),$(\"#dialogStatus\").attr(\"style\",\"display: none!important\"),$(\"#ustvari\").attr(\"onclick\",\"validateNaloga(event, 1)\"),$(\"#closeBtn\").next().removeClass(\"color-red\").addClass(\"color-cyan\"),$(\"#dialog-hint\").attr(\"onclick\",\"helpCilji()\"),$(\"#tockeName\").html(\"Točke cilja*\")}function posodobiCilj(e){clearData(),fillCilji(),document.getElementById(\"dialog-title\").innerHTML=\"Uredi cilj\",document.getElementById(\"ustvari\").innerHTML=\"Posodobi\",$(\"#imeDialog\").val(e.getElementsByTagName(\"td\")[0].lastElementChild.lastElementChild.children[0].innerHTML).parent().addClass(\"is-dirty\"),$(\"#opisDialog\").val(e.getElementsByTagName(\"td\")[0].lastElementChild.lastElementChild.children[1].innerHTML).parent().addClass(\"is-dirty\"),$(\"#xpNaloge\").val(e.getElementsByTagName(\"td\")[0].lastElementChild.lastElementChild.children[2].value).parent().addClass(\"is-dirty\"),\"true\"===e.getElementsByTagName(\"td\")[0].lastElementChild.lastElementChild.children[3].value&&$(\"#skupnaNaloga\").parent().get(0).MaterialCheckbox.check(),$(\"#newDialog\").val(e.getElementsByTagName(\"td\")[0].lastElementChild.lastElementChild.children[4].value),dialog.showModal(),$(\"#dialog-div\").attr(\"style\",\"height: auto\"),$(\"#izbrisi\").removeClass(\"hide-element\"),currentElement=e,$(\"#update_dialog\").removeAttr(\"onsubmit\")}function posodobiNalogo(){clearData(),fillNaloge(),document.getElementById(\"dialog-title\").innerHTML=\"Uredi nalogo\",document.getElementById(\"ustvari\").innerHTML=\"Posodobi\",dialog.showModal(),$(\"#dialog-div\").attr(\"style\",\"height: \"+$(\"#dialog\").height()+\"px;\"),$(\"#izbrisi\").removeClass(\"hide-element\"),$(\"#update_dialog\").removeAttr(\"onsubmit\")}function dodajNovCilj(e){clearData(),fillCilji(),document.getElementById(\"dialog-title\").innerHTML=\"Dodaj nov cilj\",document.getElementById(\"ustvari\").innerHTML=\"Ustvari\",dialog.showModal(),$(\"#izbrisi\").addClass(\"hide-element\"),localStorage.setItem(\"Stran\",e),console.log(e)}function dodajNovoNalogo(e){clearData(),fillNaloge(),document.getElementById(\"dialog-title\").innerHTML=\"Dodaj novo nalogo\",document.getElementById(\"ustvari\").innerHTML=\"Ustvari\",$(\"#statusNaloge\").get(0).placeholder=\"Neopravljena\",$(\"#dialogStatus\").find(\"li[data-val=false]\").attr(\"data-selected\",\"true\"),$(\"#statusNaloge\").parent().addClass(\"is-dirty\"),$(\"input[name='oldStatus']\").val(\"false\"),$(\"input[name='newStatus']\").val(\"false\"),getmdlSelect.init(\"#dialogStatus\"),$(\"#newDialog\").val(\"\"),dialog.showModal(),$(\"#dialog-div\").attr(\"style\",\"height: \"+$(\"#dialog\").height()+\"px;\"),$(\"#izbrisi\").addClass(\"hide-element\"),localStorage.setItem(\"Stran\",e),console.log(e)}function dodajPredlog(){clearData(),fillNaloge(),document.getElementById(\"dialog-title\").innerHTML=\"Dodaj novo nalogo\",document.getElementById(\"ustvari\").innerHTML=\"Ustvari\",$(\"#newDialog\").val(\"\"),dialog.showModal(),$(\"#dialog-div\").attr(\"style\",\"height: \"+$(\"#dialog\").height()+\"px;\"),$(\"#izbrisi\").addClass(\"hide-element\"),$(\"#imeDialog\").val($(\"#ime_aktivnosti\").text()).parent().addClass(\"is-dirty\"),$(\"#opisDialog\").val($(\"#opis_aktivnosti\").text()).parent().addClass(\"is-dirty\"),$(\"#xpNaloge\").val(\"100\").parent().addClass(\"is-dirty\"),$(\"#kategorija\").get(0).placeholder=$(\".list-kategorija\").find(\"[data-val=5aeabcd8be609116280b4d9c]\").get(0).textContent.trim(),$(\"input[name='sampleKategorija']\").parent().addClass(\"is-dirty\").find(\"li[data-val=5aeabcd8be609116280b4d9c]\").attr(\"data-selected\",\"true\"),getmdlSelect.init(\"#dialogKategorija\"),$(\"#statusNaloge\").get(0).placeholder=\"Neopravljena\",$(\"#dialogStatus\").find(\"li[data-val=false]\").attr(\"data-selected\",\"true\"),$(\"#statusNaloge\").parent().addClass(\"is-dirty\"),$(\"input[name='oldStatus']\").val(\"false\"),$(\"input[name='newStatus']\").val(\"false\"),getmdlSelect.init(\"#dialogStatus\")}function validateNaloga(e,a){var t=0;if(\"\"==document.forms.update_dialog.imeDialog.value&&($(\"#imeDialogErr\").text(\"Polje je obvezno!\").parent().addClass(\"is-invalid\"),t=1),\"\"==document.forms.update_dialog.opisDialog.value&&($(\"#opisDialogErr\").text(\"Polje je obvezno!\").parent().addClass(\"is-invalid\"),t=1),\"\"==document.forms.update_dialog.xpNaloge.value&&($(\"#xpErr\").text(\"Polje je obvezno!\").parent().addClass(\"is-invalid\"),t=1),0==a){var i=document.forms.update_dialog.dateZacetek.value,o=document.forms.update_dialog.dateKonec.value;\"\"!=i&&\"\"!=o&&(console.log(i,o),i!=o&&moment(i).isAfter(o)&&($(\"#dateKonecErr\").text(\"Datum konca mora biti po datumu začetka!\").parent().addClass(\"is-invalid\"),t=1)),\"\"==document.forms.update_dialog.sampleKategorija.value&&($(\"#kategorijaErr\").text(\"Kategorija mora biti izbrana!\").parent().addClass(\"is-invalid\"),t=1),\"\"==document.forms.update_dialog.statusNaloge.value&&($(\"#kategorijaErr\").text(\"Status naloge mora biti izbran!\").parent().addClass(\"is-invalid\"),t=1)}if(0!=t)return!1;if(0==a){var n=$(\"#update_dialog\").serialize();e.preventDefault(),$.ajax({url:\"/ustvari_nalogo\",type:\"POST\",contentType:\"application/x-www-form-urlencoded\",data:n,success:function(e){localStorage.setItem(\"Status\",e),localStorage.setItem(\"Stran\",2),window.location.reload(!0)},error:function(e,a,t,i){document.querySelector(\"#mainToast\").MaterialSnackbar.showSnackbar({message:e}),console.log(a,t,i,e)}})}else{var l=$(\"#update_dialog\").serialize();e.preventDefault(),$.ajax({url:\"/ustvari_cilj\",type:\"POST\",contentType:\"application/x-www-form-urlencoded\",data:l,success:function(e){localStorage.setItem(\"Status\",e),localStorage.setItem(\"Stran\",3),window.location.reload(!0)},error:function(e,a,t,i){document.querySelector(\"#mainToast\").MaterialSnackbar.showSnackbar({message:i})}})}}function zapriVse(e){$(\".hideOnClick\").attr(\"style\",\"display: none!important\"),console.log(\"close all\")}function onUserClick(e,a){var t=document.getElementsByClassName(e)[0].getElementsByClassName(\"user\"),i=void 0;for(i=0;i<t.length;i++)t[i].onclick=function(e){return function(){a(e)}}(t[i])}function cleanNav(){$(\"#dashboard\").removeClass(\"is-active\"),$(\"#cilj\").removeClass(\"is-active\"),$(\"#naloge\").removeClass(\"is-active\"),$(\"#koledar\").removeClass(\"is-active\"),$(\"#menuDashboard\").removeClass(\"is-active\"),$(\"#menuCilj\").removeClass(\"is-active\"),$(\"#menuNaloge\").removeClass(\"is-active\"),$(\"#menuKoledar\").removeClass(\"is-active\")}function openSettings(){cleanNav(),$(\"#notifications\").removeClass(\"is-active\"),$(\"#druzina\").removeClass(\"is-active\"),$(\"#settings\").addClass(\"is-active\")}function openNotifications(){cleanNav(),$(\"#druzina\").removeClass(\"is-active\"),$(\"#settings\").removeClass(\"is-active\"),$(\"#notifications\").addClass(\"is-active\")}function openDruzina(){cleanNav(),$(\"#settings\").removeClass(\"is-active\"),$(\"#notifications\").removeClass(\"is-active\"),$(\"#druzina\").addClass(\"is-active\")}function initializeUI(){pushButton.addEventListener(\"click\",function(){pushButton.disabled=!0,$(\"#pushButton\").parent().addClass(\"is-disabled\"),isSubscribed?unsubscribeUser():subscribeUser()}),swRegistration.pushManager.getSubscription().then(function(e){(isSubscribed=!(null===e))?console.log(\"User IS subscribed.\"):console.log(\"User is NOT subscribed.\"),updateBtn()})}function subscribeUser(){var e=urlB64ToUint8Array(applicationServerPublicKey);swRegistration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:e}).then(function(e){updateSubscriptionOnServer(e,\"/api/save-subscription\"),console.log(\"User is subscribed.\"),isSubscribed=!0,updateBtn()}).catch(function(e){console.log(\"Failed to subscribe the user: \",e),updateBtn()})}function updateSubscriptionOnServer(e,a){return fetch(a,{method:\"POST\",headers:{\"Content-Type\":\"application/json\",Accept:\"application/json\"},body:JSON.stringify({subscription:e,user_id:$(\"#trenutniUporabnik\").val()})}).then(function(e){if(!e.ok)throw new Error(\"Bad status code from server.\",e);return e.json()}).then(function(e){if(!e.data||!e.data.success)throw new Error(\"Bad response from server.\",e)})}function unsubscribeUser(){var a=void 0;swRegistration.pushManager.getSubscription().then(function(e){if(a=e)return e.unsubscribe()}).catch(function(e){console.log(\"Error unsubscribing\",e)}).then(function(){updateSubscriptionOnServer(a,\"/api/disable-subscription\"),console.log(\"User is unsubscribed.\"),isSubscribed=!1,updateBtn()})}function urlB64ToUint8Array(e){for(var a=(e+\"=\".repeat((4-e.length%4)%4)).replace(/\\-/g,\"+\").replace(/_/g,\"/\"),t=window.atob(a),i=new Uint8Array(t.length),o=0;o<t.length;++o)i[o]=t.charCodeAt(o);return i}function updateBtn(){if(\"denied\"===Notification.permission)return pushButton.nextElementSibling.textContent=\"Obvestila niso dovoljena\",pushButton.disabled=!0,$(\"#pushButton\").parent().addClass(\"is-disabled\"),void updateSubscriptionOnServer(null);$(\"#pushButton\").removeAttr(\"disabled\"),$(\"#pushButton\").parent().removeClass(\"is-disabled\"),waitForElementToDisplay(1e3)}function waitForElementToDisplay(e){if(pushButton.parentNode.MaterialSwitch)if(isSubscribed){pushButton.nextElementSibling.textContent=\"Izklopi obvestila v brskalniku\";try{pushButton.parentNode.MaterialSwitch.on()}catch(e){console.log(\"Element ne obstaja.\",e)}}else{pushButton.nextElementSibling.textContent=\"Vklopi obvestila v brskalniku\";try{pushButton.parentNode.MaterialSwitch.off()}catch(e){console.log(\"Element ne obstaja.\",e)}}else setTimeout(function(){waitForElementToDisplay(e)},e)}function tockeUdelezencev(e,a,t){for(var i=0;i<e;i++){var o=$(\".\"+a+i).children(),n=o.length,l=0;if(o.each(function(){l+=parseInt($(this)[0].innerHTML)}),0==n)$(\".\"+a+i).attr(\"style\",\"display: none!important\");else if(1==n)$(\".\"+a+i+\" :nth-child(1)\").addClass(\"spanOnly\");else{$(\".\"+a+i+\" :nth-child(1)\").attr(\"style\",\"width: \"+o[0].innerHTML/l*100+\"%; background-color: #BCD4F8\").addClass(\"spanFirst\");for(var r=2;r<n;r++)$(\".\"+a+i+\" :nth-child(\"+r+\")\").attr(\"style\",\"width: \"+o[r-1].innerHTML/l*100+\"%; background-color: \"+colors[r-2]+\";\");$(\".\"+a+i+\" :nth-child(\"+n+\")\").attr(\"style\",\"width: \"+o[n-1].innerHTML/l*100+\"%; background-color: #96ECED;\").addClass(\"spanLast\")}}}function zapriNalogo(){$(\"#NalogaPopUp\").css(\"display\",\"none\")}function distanceX(e){return function(e){var a=0;if(e.offsetParent)for(;a+=e.offsetTop,e=e.offsetParent;);return 0<=a?a:0}(e)}function napolniNalogo(e){deleteShowNaloga(e),e=e.children[1],$(\"#dashboardNaloga\").removeClass(\"hide-element\"),$(\"#opomnikKategorija\").text(e.lastElementChild.children[0].value);var a=e.lastElementChild.children[1].value;$(\"#opomnikZacetek\").text(moment(a).format(\"DD. MM. YYYY\")+\" \"+moment(a).format(\"HH:mm\"));var t=e.lastElementChild.children[2].value;$(\"#opomnikKonec\").text(moment(t).format(\"DD. MM. YYYY\")+\" \"+moment(t).format(\"HH:mm\")),$(\"#opomnikCilj\").append(e.lastElementChild.children[3].value),$(\"#opomnikId\").val(e.lastElementChild.children[4].value),$(\"#opomnikIme\").text(e.children[0].children[0].innerHTML),$(\"#opomnikOpis\").text(e.children[0].children[2].innerHTML),$(\"#opomnikXp\").text(\"+\"+e.children[0].children[1].children[0].innerHTML),console.log(\"+\"+e.children[0].children[1].children[0].innerHTML);var i=e.lastElementChild.children[5].cloneNode(!0),o=e.lastElementChild.children[6].cloneNode(!0);o.classList.remove(\"hide-element\"),i.classList.remove(\"hide-element\"),document.getElementById(\"opomnikVezani\").appendChild(i),document.getElementById(\"opomnikAvtor\").appendChild(o),\"\"!=a&&\"\"!=t||$(\"#opomnikBrezDatuma\").removeClass(\"hide-element\")}function deleteShowNaloga(){$(\"#opomnikKategorija\").text(\"\"),$(\"#opomnikXp\").text(\"\"),$(\"#opomnikIme\").text(\"\"),$(\"#opomnikOpis\").text(\"\"),$(\"#opomnikVezani\").empty(),$(\"#opomnikAvtor\").empty(),$(\"#opomnikKategorija\").text(\"\"),$(\"#opomnikZacetek\").text(\"\"),$(\"#opomnikKonec\").text(\"\"),$(\"#opomnikBrezDatuma\").addClass(\"hide-element\"),$(\"#opomnikCilj\").html($(\"#opomnikCilj\").children())}function potrdiIzbris(){var a=\"/delete-naloga\";\"Uredi cilj\"==document.getElementById(\"dialog-title\").innerHTML&&(a=\"/delete-cilj\");var e=\"id=\"+document.forms.update_dialog.newDialog.value;$.ajax({url:a,type:\"POST\",contentType:\"application/x-www-form-urlencoded\",data:e,success:function(e){localStorage.setItem(\"Status\",e);if(\"/delete-naloga\"==a);localStorage.setItem(\"Stran\",3),window.location.reload(!0)},error:function(e,a,t,i){document.querySelector(\"#mainToast\").MaterialSnackbar.showSnackbar({message:i})}})}function chooseHelp(){$(\"#dashboard\").hasClass(\"is-active\")&&startIntroDashboard(),$(\"#koledar\").hasClass(\"is-active\")&&startIntroKoledar(),$(\"#naloge\").hasClass(\"is-active\")&&startIntroNaloge(),$(\"#cilj\").hasClass(\"is-active\")&&startIntroCilj(),$(\"#settings\").hasClass(\"is-active\")&&startIntroSettings(),$(\"#notifications\").hasClass(\"is-active\")&&startIntroNotifications(),$(\"#druzina\").hasClass(\"is-active\")&&startIntroDruzina()}function startIntroDashboard(){(intro=introJs()).setOptions({nextLabel:\"Naprej &rarr;\",prevLabel:\"&larr; Nazaj\",skipLabel:\"Zapri\",doneLabel:\"Konec\",tooltipPosition:\"auto\",overlayOpacity:.5,steps:[{intro:\"Pozdravljeni v aplikaciji MyFamily! Kliknili ste na gumb pomoč, ki se nahaja v spodnjem levem kotu. Ob kliku na gumb boste sprožili začetek predstavitve, ki vam bo razložila osnovne funkcionalnosti na strani kjer se nahajate. Če želite nadaljevati s predstavitvijo strani pregled pritisnite gumb naprej.Predstavitev lahko kadarkoli prekinete.\"},{element:document.querySelector(\"#dash1\"),intro:\"Navigacijska vrstica s pomočjo katero se premikate po aplikaciji. Aplikacija je sestavljena iz 4 glavnih podstrani: PREGLED - pregled celotne aplikacije, KOLEDAR - koledar kjer so prikazane naloge, NALOGE - stran, kjer lahko iščete po nalogah in CILJI - stran kjer so podrobneje prikazani cilji družine\"},{element:document.querySelector(\"#opomnikiList\"),intro:\"Opomniki za naloge pri katerih sodelujete. Prihajajoče naloge imajo pred sabo zelen krog, naloge, ki se začnejo na današnji dan imajo rumen krog, naloge, ki so se že začele pa rdeč krog. Ob kliku na opomnik se prikažejo podrobnosti naloge.\"},{element:\"#dash3\",intro:\"Status, s katerim lahko sporočite družini kaj počnete, kako se počutite, kdaj boste naredili nalogo...\"},{element:\"#dash4\",intro:\"Družinsko drevo, člani družine so urejeni glede na položaj v družini. Najvišje v drevesu so pradedki in prababice, nato dedki in babice, starši, otroci. Če oseba nima izbranega položaja v družini je prikazana na vrhu drevesa. S klikom na avatar lahko odprete okno kjer lahko vidite status osebe, različne možnosti sporočanja in število točk, ki jih je ta oseba danes zbrala.\"},{element:\"#dash5\",intro:\"Skupni cilji družine. Te cilje ste označili kot skupne, zato so prikazani na pregledu. Od leve proti desni so: ime in opis cilja, razmerje med dosedaj zbranimi točkami in točkami potrebnimi za izpolnitev cilja, ter točke prikazane za vsakega člana družine posebej.\"},{element:\"#dash6\",intro:\"Predlog za novo nalogo, ki je naključno generiran. S klikom na gumb DODAJ NALOGO se bodo polja avtomatsko izpolnila in nato lahko predlagano nalogo dodate med svoje naloge.\"},{element:document.querySelector(\"#dash7\"),intro:\"Tukaj se nahajajo osebne nastavitve, kjer lahko kadarkoli spremnite podatke, ki ste jih napisali ob registraciji. V meniju se nahajajo tudi nastanitve sporočanja, kjer lahko vklopite sporočila preko e-pošte, sporočila sms in obvestila na vašem pametnem telefonu. V meniju lahko k uporabi aplikacije povabite tudi druge družinske člane.\"}]}),intro.start()}function startIntroKoledar(){intro=introJs(),$(\".monthly-header-title\").attr(\"id\",\"cal2\"),$(\".monthly-day-wrap\").first().first().attr(\"id\",\"cal3\"),intro.setOptions({nextLabel:\"Naprej &rarr;\",prevLabel:\"&larr; Nazaj\",skipLabel:\"Zapri\",doneLabel:\"Konec\",tooltipPosition:\"auto\",overlayOpacity:.5,steps:[{element:document.querySelector(\"#mycalendar\"),intro:\"Koledar. Na njem so prikazane naloge, glede na začetni datum naloge.\"},{element:\"#cal2\",intro:\"Navigacijska vrstica koledarja. S puščicama se lahko premikate po mesecih naprej ali nazaj. Gumb danes vrne pogled na današnji dan. Gumb mesec pa vrne pogled na mesec v katerem je dan na katerem se nahajate.\"},{element:document.querySelector(\"#cal3\"),intro:\"Posamezni dnevi v katerih so prikazane naloge. Če kliknete na nalogo se vam bo odprl podroben opis naloge. Če pa kliknete na dan se vam bo odrl pogled z vsemi nalogami, ki potekajo na današnji dan.\"}]}),intro.start()}function startIntroNaloge(){(intro=introJs()).setOptions({tooltipPosition:\"auto\",nextLabel:\"Naprej &rarr;\",prevLabel:\"&larr; Nazaj\",skipLabel:\"Zapri\",doneLabel:\"Konec\",overlayOpacity:.5,steps:[{element:\"#nal1\",intro:\"S pomočjo tega okna lahko iščete po nalogah. Izbirate lahko med različnimi parametri, ki vam bodo pomagali poiskati nalogo.\\n\\nVezan cilj - Cilj na katerega je vezana naloga.\\nKategorija - kategorija v katero spada naloga.\\nZa koga - komu je naloga namenjena.\\nStatus - ali je naloga opravljena ali neopravljena.\\nAvtor - avtor naloge.\\nV koledarju - ali je naloga časovno definirana\",position:\"bottom-right\"},{element:\"#card0\",intro:\"Rezultat iskanja. Naloge iz iste kategorije imajo zgornji del obarvan z isto barvo. Posamezen okvir predstavlja eno nalogo. Če kliknete na gumb v spodnjem desnem kotu lahko nalogo urejate.\"},{element:document.querySelector(\"#dash1\"),intro:\"Tole je navigacijska vrstica. Aplikacija je sestavljena iz 4 različnih podstrani: PREGLED - pregled celotne aplikacije, KOLEDAR - koledar kjer so prikazane naloge, NALOGE - stran, kjer lahko iščete po nalogah in CILJI - stran kjer so podrobneje prikazani cilji družine\"},{element:document.querySelector(\"#dash7\"),intro:\"Tukaj se nahajajo osebne nastavitve, kjer lahko kadarkoli spremnite podatke, ki ste jih napisali ob registraciji. V meniju se nahajajo tudi nastanitve sporočanja, kjer lahko vklopite sporočila preko e-pošte, sporočila sms in obvestila na vašem pametnem telefonu. V meniju je tudi povezava do strani kjer lahko k uporabi aplikacije povabite tudi druge družinske člane.\"}]}),intro.start()}function startIntroCilj(){(intro=introJs()).setOptions({nextLabel:\"Naprej &rarr;\",prevLabel:\"&larr; Nazaj\",skipLabel:\"Zapri\",doneLabel:\"Konec\",tooltipPosition:\"auto\",overlayOpacity:.5,steps:[{element:\"#cilj-1\",intro:\"Nedoseženi cilji družine. Cilj lahko urejate s klikom na vrstico v tabeli. Od leve proti desni so: ime in opis cilja, razmerje med dosedaj zbranimi točkami in točkami potrebnimi za izpolnitev cilja, točke prikazane za vsakega člana družine posebej, datum kdaj je bil cilj ustvarjen in kdaj je bil cilj nazadnje posodobljen.\"},{element:\"#cilj-2\",intro:\"V tem oknu so prikazani vsi cilji družine, ki so že zaključeni. Cilj lahko urejate z klikom na vrstico v tabeli. Od leve proti desni ime in opis cilja, razmerje med dosedaj zbranimi točkami in točkami potrebnimi za izpolnitev cilja, točke prikazane za vsakega člana družine posebej, datum kdaj je bil cilj ustvarjen in kdaj je bil cilj nazadnje posodobljen.\"},{element:document.querySelector(\"#dash1\"),intro:\"Tole je navigacijska vrstica. Aplikacija je sestavljena iz 4 različnih podstrani: PREGLED - pregled celotne aplikacije, KOLEDAR - koledar kjer so prikazane naloge, NALOGE - stran, kjer lahko iščete po nalogah in CILJI - stran kjer so podrobneje prikazani cilji družine\"},{element:document.querySelector(\"#dash7\"),intro:\"Tukaj se nahajajo osebne nastavitve, kjer lahko kadarkoli spremnite podatke, ki ste jih napisali ob registraciji. V meniju se nahajajo tudi nastanitve sporočanja, kjer lahko vklopite sporočila preko e-pošte, sporočila sms in obvestila na vašem pametnem telefonu. V meniju je tudi povezava do strani kjer lahko k uporabi aplikacije povabite tudi druge družinske člane.\"}]}),intro.start()}function startIntroSettings(){(intro=introJs()).setOptions({nextLabel:\"Naprej &rarr;\",prevLabel:\"&larr; Nazaj\",skipLabel:\"Zapri\",doneLabel:\"Konec\",tooltipPosition:\"auto\",overlayOpacity:.5,steps:[{intro:\"Osebne nastavitave. Tukaj lahko spremenite svoje podatke o imenu, e-pošti, telefonu, svoj položaj v družini, prikazno sliko ter svoje geslo za dostop do aplikacije. Za izhod iz osebnih nastavitev kliknite na eno izmed 4 strani v navigacijski vrstici.\"},{element:document.querySelector(\"#dash1\"),intro:\"Navigacijska vrstica. Aplikacija je sestavljena iz 4 različnih podstrani: PREGLED - pregled celotne aplikacije, KOLEDAR - koledar kjer so prikazane naloge, NALOGE - stran, kjer lahko iščete po nalogah in CILJI - stran kjer so podrobneje prikazani cilji družine\"},{element:document.querySelector(\"#dash7\"),intro:\"Tukaj se nahajajo osebne nastavitve, kjer lahko kadarkoli spremnite podatke, ki ste jih napisali ob registraciji. V meniju se nahajajo tudi nastanitve sporočanja, kjer lahko vklopite sporočila preko e-pošte, sporočila sms in obvestila na vašem pametnem telefonu. V meniju je tudi povezava do strani kjer lahko k uporabi aplikacije povabite tudi druge družinske člane.\"}]}),intro.start()}function startIntroNotifications(){(intro=introJs()).setOptions({nextLabel:\"Naprej &rarr;\",prevLabel:\"&larr; Nazaj\",skipLabel:\"Zapri\",doneLabel:\"Konec\",tooltipPosition:\"auto\",overlayOpacity:.5,steps:[{intro:\"Trenutno se nahajate na strani z nastavitvami sporočanja. Obvestila iz aplikacije lahko prejmete na tri različne načine: SMS, e-pošta in push obvestila v brskalniku ali na telefonu.\"},{element:document.querySelector(\"#dash1\"),intro:\"Navigacijska vrstica. Aplikacija je sestavljena iz 4 različnih podstrani: PREGLED - pregled celotne aplikacije, KOLEDAR - koledar kjer so prikazane naloge, NALOGE - stran, kjer lahko iščete po nalogah in CILJI - stran kjer so podrobneje prikazani cilji družine\"},{element:document.querySelector(\"#dash7\"),intro:\"Tukaj se nahajajo osebne nastavitve, kjer lahko kadarkoli spremnite podatke, ki ste jih napisali ob registraciji. V meniju se nahajajo tudi nastanitve sporočanja, kjer lahko vklopite sporočila preko e-pošte, sporočila sms in obvestila na vašem pametnem telefonu. V meniju je tudi povezava do strani kjer lahko k uporabi aplikacije povabite tudi druge družinske člane.\"}]}),intro.start()}function startIntroDruzina(){(intro=introJs()).setOptions({nextLabel:\"Naprej &rarr;\",prevLabel:\"&larr; Nazaj\",skipLabel:\"Zapri\",doneLabel:\"Konec\",tooltipPosition:\"auto\",overlayOpacity:.5,steps:[{intro:\"Trenutno ste na strani kjer lahko k uporabi aplikacije povabite tudi druge družinske člane. V polje E-mail napištite e-poštni naslov osebe, ki jo želite povabiti v vašo družino. Na naslov bo nekaj minutah prispelo elektronsko sporočilo z podrobnimi navodili za včlanitev v družino.\"},{element:document.querySelector(\"#dash1\"),intro:\"Tole je navigacijska vrstica. Aplikacija je sestavljena iz 4 različnih podstrani: PREGLED - pregled celotne aplikacije, KOLEDAR - koledar kjer so prikazane naloge, NALOGE - stran, kjer lahko iščete po nalogah in CILJI - stran kjer so podrobneje prikazani cilji družine\"},{element:document.querySelector(\"#dash7\"),intro:\"Tukaj se nahajajo osebne nastavitve, kjer lahko kadarkoli spremnite podatke, ki ste jih napisali ob registraciji. V meniju se nahajajo tudi nastanitve sporočanja, kjer lahko vklopite sporočila preko e-pošte, sporočila sms in obvestila na vašem pametnem telefonu. V meniju je tudi povezava do strani kjer lahko k uporabi aplikacije povabite tudi druge družinske člane.\"}]}),intro.start()}function helpNaloga(){0==move?(intro.removeHints(),(intro=introJs()).setOptions({hintButtonLabel:\"Razumem!\",hintPosition:\"top-right\",hintAnimation:\"false\",hints:[{element:\"#imeDialog\",hint:\"Prikazno ime naloge. Lahko vsebuje do 32 znakov.\",position:\"left\"},{element:\"#opisDialog\",hint:\"Opis naloge, kaj je potrebno narediti, da je naloga dosežena.\",position:\"left\"},{element:\"#targetZacetek\",hint:\"Datum začetka naloge. Naloga je v koledar postavljena glede na njen začetni datum. Če naloga nima izbranega začetnega datuma, je njen začetni datum kadar je bila ustvarjena.\",position:\"left\"},{element:\"#targetKonec\",hint:\"Datum konca naloge. S tem datum določite do kdaj mora biti naloga opravljena, oziroma kdaj je bila opravljena. V primeru, da končni datum ni izbran je avtomatsko določen na isti dan kot začetni datum.\",position:\"left\"},{element:\"#vezanCilj\",hint:\"Cilj na katerega je vezana naloga. Ko je naloga opravljena se pod ta cilj štejejo točke naloge.\",position:\"left\"},{element:\"#kategorija\",hint:\"Kategorija v katero spada naloga.\",position:\"left\"},{element:\"#xpNaloge\",hint:\"Vrednost naloge, ko je naloga opravljena se točke prištejejo k vezanemu cilju.\",position:\"bottom\"},{element:\"#statusNaloge\",hint:\"Status naloge, lahko je opravljena ali pa neopravljena.\",position:\"left\"},{element:\"#claniNaloge\",hint:\"Družinski člani, označite tiste katerim je naloga namenjena.\",position:\"left\"}]}),intro.onhintsadded(function(){0==move&&moveHints(\"#hintNal\")}),intro.onhintclick(function(i,e,a){console.log(\"hint clicked\",i,e,a),setTimeout(function(){console.log(\"here\");var e=$(\".introjs-tooltipReferenceLayer\");e.appendTo($(\"#hintNal\"));var a=$(\"#dialog\").get(0).getBoundingClientRect();e.addClass(\"notransition\");var t=$(i).offset().top-$(i).parent().offset().top-$(i).parent().scrollTop();e.css({color:\"black\",top:t+10,left:i.getBoundingClientRect().left-a.left-2}),$('[data-step*=\"6\"].introjs-tooltipReferenceLayer').css({color:\"black\",top:t+15,left:i.getBoundingClientRect().left-a.left-20})},1)}),intro.onhintclose(function(e){}),intro.addHints()):0==shown?(intro.showHints(),shown=1):1==shown&&(intro.hideHints(),shown=0),move=1}function helpCilji(){0==move?(intro.removeHints(),(intro=introJs()).setOptions({hintButtonLabel:\"Razumem!\",hintPosition:\"top-right\",hintAnimation:\"false\",hints:[{element:\"#imeDialog\",hint:\"Prikazno ime cilja. Lahko vsebuje do 32 znakov.\",position:\"left\"},{element:\"#opisDialog\",hint:\"Opis aktivnosti, ki jih vsebuje cilj.\",position:\"left\"},{element:\"#xpNaloge\",hint:\"Število točk potrebnih za dosego cilja.\",position:\"bottom\"},{element:\"#ciljiVsi\",hint:\"Če je to okno obkljukano se bo cilj vsem članom družine prikazal na prvi strani med skupnimi cilji.\",position:\"left\"}]}),intro.onhintclose(function(e){console.log(\"hint closed\",e)}),intro.onhintsadded(function(){console.log(\"all hints added\"),0==move&&moveHints(\"#dialog\")}),intro.onhintclick(function(i,e,a){console.log(\"hint clicked\",i,e,a),setTimeout(function(){var e=$(\".introjs-tooltipReferenceLayer\");e.appendTo($(\"#dialog\"));var a=$(\"#dialog\").get(0).getBoundingClientRect();e.addClass(\"notransition\");var t=$(i).offset().top-$(i).parent().offset().top-$(i).parent().scrollTop();e.css({color:\"black\",top:t-5,left:i.getBoundingClientRect().left-a.left-2}),$('[data-step*=\"2\"].introjs-tooltipReferenceLayer').css({color:\"black\",top:t,left:i.getBoundingClientRect().left-a.left-20})},1)}),intro.addHints()):0==shown?(intro.showHints(),shown=1):1==shown&&(intro.hideHints(),shown=0),move=1}function pregled(){var e=location.protocol+\"//\"+location.host+location.pathname;window.history.replaceState({},document.title,e),localStorage.setItem(\"Stran\",0),window.location.reload(!0)}function moveHints(e){shown=1,$(\".introjs-hints\").prependTo($(e));var o=$(e).get(0).getBoundingClientRect();$(\".introjs-hint\").each(function(e,a){var t=a.getBoundingClientRect().left-2*o.left,i=a.getBoundingClientRect().top-2*o.top;a.setAttribute(\"style\",\"left: \"+t+\"px;top: \"+i+\"px;\")})}function deleteHints(){shown=move=0;var e=document.querySelector(\".introjs-hints\");if(e)for(;e.firstChild;)e.removeChild(e.firstChild)}function validateSettings(){return\"\"==document.forms.settingsForm.set_name.value?($(\"#errIme\").text(\"Polje je obvezno!\").parent().addClass(\"is-invalid\"),!1):document.forms.settingsForm.set_password.value!=document.forms.settingsForm.set_password_confirm.value?($(\"#errPass2\").parent().addClass(\"is-invalid\"),!1):\"\"==document.forms.settingsForm.set_phone.value?($(\"#errTel\").text(\"Polje je obvezno!\").parent().addClass(\"is-invalid\"),!1):void 0}function checkMail(){var e=$(\"input[name=invite_email]\");if(\"\"==e.val())return $(\"#invErrEmail\").text(\"Prosimo vpišite email naslov!\").parent().addClass(\"is-invalid\"),!1;return!!/^[A-Z0-9._%+-]+@([A-Z0-9-]+\\.)+[A-Z]{2,4}$/i.test(e.val())||($(\"#invErrEmail\").text(\"Vpisani email naslov ni veljaven!\").parent().addClass(\"is-invalid\"),!1)}function checkSpecial(e,a){var t=e.value;if(/[^A-ZČĆŽŠĐ0-9.,\\s]/gi.test(e.value)){var i=t.replace(/[^A-ZČĆŽŠĐ0-9.,\\s]/gi,\"\");1==a?$(\"#imeDialogErr\").text(\"Posebni znaki niso dovoljeni!\").parent().addClass(\"is-invalid\"):$(\"#opisDialogErr\").text(\"Posebni znaki niso dovoljeni!\").parent().addClass(\"is-invalid\"),$(e).val(i)}}$.fn.datepicker.language.sl={days:[\"Nedelja\",\"Ponedeljek\",\"Torek\",\"Sreda\",\"Četrtek\",\"Petek\",\"Sobota\"],daysShort:[\"Ned\",\"Pon\",\"Tor\",\"Sre\",\"Čet\",\"Pet\",\"Sob\"],daysMin:[\"Ne\",\"Po\",\"To\",\"Sr\",\"Če\",\"Pe\",\"So\"],months:[\"Januar\",\"Februar\",\"Marec\",\"April\",\"Maj\",\"Junij\",\"Julij\",\"Avgust\",\"September\",\"Oktober\",\"November\",\"December\"],monthsShort:[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"Maj\",\"Jun\",\"Jul\",\"Avg\",\"Sep\",\"Okt\",\"Nov\",\"Dec\"],today:\"Danes\",clear:\"Ponastavi\",dateFormat:\"dd. mm. yyyy\",timeFormat:\"hh:ii\",firstDay:0},r(function(){localStorage.getItem(\"Status\")&&(document.querySelector(\"#mainToast\").MaterialSnackbar.showSnackbar({message:localStorage.getItem(\"Status\")}),localStorage.removeItem(\"Status\"))}),jQuery(function(o){if(localStorage.getItem(\"Stran\")){var e=localStorage.getItem(\"Stran\");switch(cleanNav(),parseInt(e)){case 0:o(\"#menuDashboard\").addClass(\"is-active\"),o(\"#dashboard\").addClass(\"is-active\");break;case 1:o(\"#menuKoledar\").addClass(\"is-active\"),o(\"#koledar\").addClass(\"is-active\");break;case 2:o(\"#menuNaloge\").addClass(\"is-active\"),o(\"#naloge\").addClass(\"is-active\");break;case 3:o(\"#menuCilj\").addClass(\"is-active\"),o(\"#cilj\").addClass(\"is-active\");break;case 4:o(\"#menuSettings\").addClass(\"is-active\"),o(\"#settings\").addClass(\"is-active\");break;case 5:o(\"#menuNotifications\").addClass(\"is-active\"),o(\"#notifications\").addClass(\"is-active\");break;case 6:o(\"#menuDruzina\").addClass(\"is-active\"),o(\"#druzina\").addClass(\"is-active\");break;default:o(\"#menuDashboard\").addClass(\"is-active\"),o(\"#dashboard\").addClass(\"is-active\")}localStorage.removeItem(\"Stran\")}switch(setTimeout(function(){alert(\"Vaša seja je potekla, za nadaljevanje se morate ponovno prijaviti!\"),window.location.reload(!0)},36e5),\"serviceWorker\"in navigator&&\"PushManager\"in window?(console.log(\"Service Worker and Push is supported\"),navigator.serviceWorker.register(\"sw.js\").then(function(e){console.log(\"Service Worker is registered\",e),swRegistration=e,initializeUI()}).catch(function(e){console.error(\"Service Worker Error\",e)})):(console.warn(\"Push messaging is not supported\"),pushButton.textContent=\"Push Not Supported\"),document.onclick=zapriVse(),document.onmouseup=function(e){var a=o(\".card-info\");o(a).is(\":visible\")&&(a.is(e.target)||0!==a.has(e.target).length||a.hide())},tockeUdelezencev(o(\"#table-cilji\").find(\"tr\").length-1,\"progZ\",\"razmZ\"),tockeUdelezencev(o(\"#table-cilji-end\").find(\"tr\").length-1,\"progK\",\"razmK\"),tockeUdelezencev(o(\"#table-skupni\").find(\"tr\").length-1,\"progS\",\"razmS\"),onUserClick(\"container\",function(e){console.log(\"klik\"+e);var a=e.getBoundingClientRect(),t=o(\".card-info\");o(\"#userCard\").text(e.nextElementSibling.value),o(\"#phoneCall\").attr(\"href\",\"tel:\"+e.nextElementSibling.nextElementSibling.value),o(\"#smsSend\").attr(\"href\",\"sms:\"+e.nextElementSibling.nextElementSibling.value),o(\"#mailSend\").attr(\"href\",\"mailto:\"+e.nextElementSibling.nextElementSibling.nextElementSibling.value),o(\"#viberOpen\").attr(\"href\",\"viber://contact?number=%2B386\"+parseInt(e.nextElementSibling.nextElementSibling.value));var i=e.nextElementSibling.nextElementSibling.nextElementSibling.nextElementSibling.nextElementSibling.value;i||(i=0),o(\"#dayXp\").text(i+\" točk\"),e.nextElementSibling.nextElementSibling.nextElementSibling.nextElementSibling?(o(\"#status\").html(e.nextElementSibling.nextElementSibling.nextElementSibling.nextElementSibling.children[0].innerHTML),o(\".tri-card-no-status\").removeClass(\"tri-card-no-status\").addClass(\"tri-card-status\")):(o(\"#status\").html(\"\"),o(\".tri-card-status\").addClass(\"tri-card-no-status\").removeClass(\"tri-card-status\")),600<pageWidth?o(\".card-info\").css({top:distanceX(e)-parseFloat(t.css(\"height\")),left:a.left-93,display:\"block\"}):o(\".card-info\").css({top:distanceX(e)-parseFloat(t.css(\"height\")),left:a.left-50,display:\"block\"})}),o(\"#mycalendar\").monthly({mode:\"event\",dataType:\"json\",jsonUrl:\"/public/calendar/\"+id+\"/events.json\"}),window.location.protocol){case\"http:\":case\"https:\":break;case\"file:\":alert(\"Just a heads-up, events will not work when run locally.\")}document.querySelector(\"#izbrisi\").onclick=function(){var e=\"Ali res želite izbirisati nalogo? S pritiskom na gumb Izbriši bo naloga dokočno izbrisana in do nje ne boste mogli več dostopati!\";\"Uredi cilj\"==document.getElementById(\"dialog-title\").innerHTML&&(e=\"Ali res želite izbirisati cilj? S pritiskom na gumb Izbriši bo vaš cilj dokočno izbrisan in do njega ne boste mogli več dostopati!\"),confirm(e)&&potrdiIzbris()};var a=document.querySelector(\"dialog\");a.showModal||dialogPolyfill.registerDialog(a);for(var t=document.querySelectorAll(\".closeX\"),i=function(e){t[e].onclick=function(){t[e].parentNode.classList.add(\"hide-element\")}},n=0;n<t.length;n++)i(n);function l(e,a){var t=document.getElementById(e),i=t.getElementsByTagName(\"TR\"),o=void 0;for(o=1;o<i.length;o++)t.rows[o].onclick=function(e){return function(){a(e)}}(t.rows[o])}a.querySelector(\".close\").onclick=function(){a.close(),deleteHints()},function(e,a){var t=document.getElementById(e).getElementsByTagName(\"li\"),i=void 0;for(i=0;i<t.length;i++)t[i].onclick=function(e){return function(){a(e)}}(t[i])}(\"opomnikiList\",function(e){napolniNalogo(e)}),l(\"table-cilji\",function(e){posodobiCilj(e)}),l(\"table-cilji-end\",function(e){posodobiCilj(e)});var r=o(\"input[name=person]\");o(\"#checkboxVsi\").on(\"click\",function(){o(this).is(\":checked\")?r.parent().each(function(e,a){a.MaterialCheckbox.check()}):r.parent().each(function(e,a){a.MaterialCheckbox.uncheck()})}),o(document).on(\"change\",\"input[name=person]\",function(e){o(\"#checkboxVsi\").is(\":checked\")&&o(\"input[name=person]:checked\").length<r.length?o(\"#checkboxVsi\").parent()[0].MaterialCheckbox.uncheck():o(\"#checkboxVsi\").is(\":checked\")||o(\"input[name=person]:checked\").length!==r.length-1||o(\"#checkboxVsi\").parent()[0].MaterialCheckbox.check()}),o(\"#pickZac\").datepicker({language:\"sl\",timeFormat:\"hh:ii\",clearButton:\"true\",position:\"right top\",onSelect:function(e,a){o(\"#targetZacetek\").val(e),o(\"#dateZacetek\").val(a),document.getElementById(\"dialogZacetek\").MaterialTextfield.checkDirty()}}),o(\"#pickKon\").datepicker({language:\"sl\",timeFormat:\"hh:ii\",clearButton:\"true\",onSelect:function(e,a){o(\"#targetKonec\").val(e),o(\"#dateKonec\").val(a),document.getElementById(\"dialogKonec\").MaterialTextfield.checkDirty()}}),o(\"#dialogZacetek\").click(function(e){var a=o(\"#pickZac\");a.removeClass(\"hide-element\"),o(document).mouseup(function(e){a.is(e.target)||0!==a.has(e.target).length||a.addClass(\"hide-element\")})}),o(\"#dialogKonec\").click(function(e){var a=o(\"#pickKon\");a.removeClass(\"hide-element\"),o(document).mouseup(function(e){a.is(e.target)||0!==a.has(e.target).length||a.addClass(\"hide-element\")})}),o(\"#nalogaDone\").click(function(e){var a=\"newDialog=\"+o(\"#opomnikId\").val()+\"&newStatus=true&mode=1\";o.ajax({url:\"/ustvari_nalogo\",type:\"POST\",contentType:\"application/x-www-form-urlencoded\",data:a,success:function(e){localStorage.setItem(\"Status\",e),localStorage.setItem(\"Stran\",0),window.location.reload(!0)},error:function(e,a,t,i){document.querySelector(\"#mainToast\").MaterialSnackbar.showSnackbar({message:e}),console.log(a,t,i,e)}})})}),$(\"#settingsForm\").submit(function(){return $.ajax({url:$(\"#settingsForm\").attr(\"action\"),type:\"POST\",data:$(\"#settingsForm\").serialize(),success:function(e){localStorage.setItem(\"Status\",e),window.location.reload(!0)},error:function(e){$(\"#errEmail\").text(\"Napaka! Račun s tem E-mail naslovom že obstaja!\").parent().addClass(\"is-invalid\"),localStorage.setItem(\"Status\",e)}}),!1});","\"use strict\";!function(t,h,s,e,j,n){t.hj=t.hj||function(){(t.hj.q=t.hj.q||[]).push(arguments)},t._hjSettings={hjid:856613,hjsv:6},j=h.getElementsByTagName(\"head\")[0],(n=h.createElement(\"script\")).async=1,n.src=\"https://static.hotjar.com/c/hotjar-\"+t._hjSettings.hjid+\".js?sv=\"+t._hjSettings.hjsv,j.appendChild(n)}(window,document);"]}